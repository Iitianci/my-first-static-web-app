import{a as e,o as i,c as n,j as t}from"./index-f5cba0e4.js";import{_ as o}from"./_plugin-vue_export-helper.1b428a4d.js";let l=(new Date).getTime();const a=o({data:()=>({url_link:"",url_scheme:"",current_h5_env:"",in_wx_h5:!1}),async onLoad(i={}){if(this.init_env(),console.log("options",i),null==i?void 0:i.extraData){let n=await uni.vk.callFunction({url:"mp_wx/pub/create_url_link",title:"请求中...",data:{appid:"wx309b6292f688747a",path:i.path||"/pages/matetial/detail",query:"extraData="+encodeURIComponent(null==i?void 0:i.extraData),env_version:"develop"},env:"api"});0==n.code?(url_link_obj={ex_time:l+2592e6,url_link:n.data.url_link},this.url_link=url_link_obj.url_link,e((null==i?void 0:i.extraData)+"url_link_obj",url_link_obj),window.location=this.url_link):uni.vk.alert("请求出错了")}},methods:{init_env(){const e=navigator.userAgent.toLowerCase();"micromessenger"==e.match(/MicroMessenger/i)?this.in_wx_h5=!0:this.in_wx_h5=!1;const i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),n=/Android/i.test(e),t=/iPhone|iPad|iPod/i.test(e);i?(console.log("当前环境是手机"),n?(console.log("当前环境是安卓"),this.current_h5_env="android"):t&&(console.log("当前环境是苹果"),this.current_h5_env="ios")):(console.log("当前环境是电脑"),this.current_h5_env="pc")}}},[["render",function(e,o,l,a,r,s){const _=t;return i(),n(_)}]]);export{a as default};
