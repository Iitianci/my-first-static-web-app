import{q as e,v as t,u as a,x as l,o,c as s,w as n,E as i,D as r,a2 as u,b as c,f as m,G as d,ah as v,A as f,j as p}from"./index-f5cba0e4.js";import{_ as x}from"./tm-sheet.38d3d718.js";import{t as h}from"./tm-text.d010834d.js";import{_ as g}from"./tm-icon.ed97db34.js";import{u as y}from"./uni-app.es.62a9cda9.js";import{u as _}from"./useWindowInfo.47d82cea.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const b=w(e({__name:"tm-message",props:{_style:{type:[Array,String,Object],default:()=>{}},round:{type:Number,default:12},padding:{type:Array,default:()=>[24,0]},_class:{type:[Array,String],default:"flex-center"},mask:{type:[Boolean],default:!0},duration:{type:Number,default:1500},width:{type:Number,default:300},height:{type:Number,default:300},lines:{type:Number,default:1}},emits:["click"],setup(e,{expose:w,emit:b}){var k;const N=e,j=y();t(null),t(null),null==(k=a())||k.proxy;const A=_(),S=l((()=>N.lines));let q=t(!1);const E=t(N.duration);let I=NaN;const z=t("white"),T=t("info"),C=t(!1),M=t(""),$=t(""),B=t(""),D=t(N.mask),G=t(!1),J=t(S.value),K=l((()=>({load:{icon:"tmicon-loading",color:"primary",text:v("message.load.text")},error:{icon:"tmicon-times-circle",color:"red",text:v("message.error.text")},info:{icon:"tmicon-info-circle",text:v("message.info.text"),color:"black"},warn:{icon:"tmicon-exclamation-circle",text:v("message.warn.text"),color:"orange"},quest:{icon:"tmicon-question-circle",text:v("message.quest.text"),color:"pink"},success:{icon:"tmicon-check-circle",text:v("message.success.text"),color:"green"},disabled:{icon:"tmicon-ban",text:v("message.disabled.text"),color:"red"},wait:{icon:"tmicon-ios-alarm",text:v("message.wait.text"),color:"black"}})));function L(e){let t=e||{},{duration:a,icon:l,text:o,color:s,dark:n,model:i,mask:r,lines:u}=t;T.value=void 0===i?T.value:i,M.value=l=l??K.value[T.value].icon,$.value=o=o??K.value[T.value].text,B.value=s=s??K.value[T.value].color,D.value="boolean"==typeof r?r:D.value,J.value=u??S.value,!0===n&&(z.value="black"),"boolean"!=typeof n&&(n=j.tmStore.dark),"white"!=B.value&&"black"!=B.value||(B.value=""),G.value=n,void 0===a&&(a=N.duration),E.value=isNaN(parseInt(String(a)))?1500:parseInt(String(a)),C.value=!0,"load"!=T.value&&(I=setTimeout((function(){C.value=!1,I=NaN}),E.value))}return w({show:function(e){C.value||!isNaN(I)?(C.value=!1,clearTimeout(I),f((()=>{L(e)}))):L(e)},hide:function(){C.value=!1,I=NaN,clearTimeout(I)}}),(e,t)=>{const a=p;return C.value?(o(),s(a,{key:0,ref:"nvueElAni",class:d(["fixed l-0 t-0 flex flex-row flex-row-center-center on",[D.value?"overflowMask":"overflowMaskNo"]]),style:i({width:r(A).width+"px",height:r(A).height+"px",top:"0px"})},{default:n((()=>[C.value?(o(),s(x,{key:0,style:i({transform:r(q)?"scale(0,0)":"scale(1,1)"}),ref:"nvueElAniContent",class:"scale nvueContent",_style:N._style,_class:N._class,color:z.value,border:0,shadow:10,width:N.width,height:N.height,margin:[40,40],round:N.round,padding:N.padding},{default:n((()=>[u(e.$slots,"default",{},(()=>[c(a,{class:"flex flex-center flex-col ma-30",style:{"line-height":"normal"}},{default:n((()=>[c(g,{_style:"line-height: normal",style:{"line-height":"normal"},_class:"pa-10",spin:"load"==T.value,color:B.value,fontSize:72,name:M.value},null,8,["spin","color","name"]),c(h,{"font-size":30,_class:`pt-8 text-overflow-${J.value}`,label:$.value},null,8,["_class","label"])])),_:1})]),!0)])),_:3},8,["style","_style","_class","color","width","height","round","padding"])):m("",!0)])),_:3},8,["class","style"])):m("",!0)}}}),[["__scopeId","data-v-2bc50af7"]]);export{b as _};
