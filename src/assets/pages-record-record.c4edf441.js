import{q as e,u as t,x as l,v as a,$ as o,y as n,z as i,A as r,o as s,c as d,w as u,b as c,E as f,D as m,G as _,f as p,C as h,j as x,a3 as g,a4 as w,a5 as b,a2 as y,d as v,F as k,r as z,H as j,J as S,I as C,a6 as V,s as T,e as D,t as N,h as I,i as B,l as $,a7 as F}from"./index-f5cba0e4.js";import{_ as M}from"./tm-alert.vue_vue_type_script_setup_true_lang.470f743d.js";import{c as E,u as A,b as U,d as W,r as P}from"./uni-app.es.62a9cda9.js";import{_ as X}from"./tm-button.37a1a22f.js";import{_ as Y}from"./tm-sheet.38d3d718.js";import{t as H}from"./tm-text.d010834d.js";import{_ as L}from"./tm-icon.ed97db34.js";import{t as O}from"./tm-translate.1353da0c.js";import{_ as K}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as q}from"./tm-input.4c1b57bc.js";import{_ as J}from"./tm-modal.70c18b3d.js";import{_ as G}from"./tm-app.c7c4bc54.js";import"./useTheme.d1454919.js";import"./tm-overlay.d3e45220.js";import"./useWindowInfo.47d82cea.js";const R=K(e({__name:"tm-switch",props:{...E,followTheme:{type:[Boolean,String],default:!0},margin:{type:Array,default:()=>[0,0]},transprent:{type:Boolean,default:!1},defaultValue:{type:[Boolean,String,Number],default:!1},modelValue:{type:[Boolean,String,Number],default:!1},unSelected:{type:[Boolean,String,Number],default:!1},selected:{type:[Boolean,String,Number],default:!0},width:{type:Number,default:0},height:{type:Number,default:0},size:{type:String,default:"normal"},color:{type:String,default:"primary"},unCheckedColor:{type:String,default:"grey-3"},barColor:{type:String,default:"white"},round:{type:Number,default:10},load:{type:Boolean,default:!1},beforeChecked:{type:[Function,Boolean,String],default:()=>!1},barIcon:{type:String,default:"tmicon-check"},offIcon:{type:String,default:""},disabled:{type:Boolean,default:!1},label:{type:Array,default:()=>["",""]}},emits:["update:modelValue","change","click"],setup(e,{emit:g}){var w;const b=e;A(),null==(w=t())||w.proxy;const y=l((()=>{let e=0,t=0,l=24,a=b.round;b.width&&b.height?(e=b.width,t=b.height,l=.45*t):"normal"==b.size?(e=100,t=50,l=26):"mini"==b.size?(e=80,t=40,l=22):"large"==b.size&&(e=120,t=60,l=32,a=24);return e=Math.ceil(h(e)),t=Math.ceil(h(t)),{width:e,height:t,innerHeight:t-4,innerWidth:e/2-4,coenteWidth:e-4,conentWidthPx:e-4,fontSize:l,round:a}})),v=a(b.defaultValue),k=l((()=>function(e){let t=void 0!==e?e:b.modelValue;if(t===b.unSelected)return!1;if(t===b.selected)return!0}(v.value)));k.value;const z=a(!1);async function j(){if(g("click"),!z.value&&!b.disabled){if("function"==typeof b.beforeChecked){z.value=!0;let e=await b.beforeChecked();if("function"==typeof e&&(e=await e()),z.value=!1,!e)return}v.value=k.value?b.unSelected:b.selected,k.value,g("change",k.value?b.selected:b.unSelected),g("update:modelValue",k.value?b.selected:b.unSelected)}}return o((()=>{z.value=b.load})),n((()=>b.modelValue),(e=>{v.value=e,k.value})),i((()=>{r((()=>{k.value}))})),(e,t)=>{const l=x;return s(),d(Y,{onClick:j,"no-level":!m(k),followTheme:b.followTheme,followDark:b.followDark,dark:b.dark,shadow:b.shadow,outlined:b.outlined,borderStyle:b.borderStyle,borderDirection:b.borderDirection,linearDeep:b.linearDeep,linear:m(k)?b.linear:"",round:m(y).round,color:m(k)?b.color:b.unCheckedColor,darkBgColor:m(k)?"":"rgba(255,255,255,0.06)",height:m(y).height,width:m(y).width,parenClass:"switchbgani",_class:["flex  relative flex-col",b.disabled?"opacity-4":""],text:!m(k)&&b.text,unit:"px",padding:[0,0],margin:b.margin},{default:u((()=>[c(l,{class:"relative flex relative flex-col nvue",style:f({padding:"2px",width:`${m(y).width}px`,height:`${m(y).height}px`})},{default:u((()=>[c(l,{userInteractionEnabled:!1,class:"flex flex-row flex-between",style:f([{width:m(y).coenteWidth+"px",height:m(y).innerHeight+"px"}])},{default:u((()=>[c(l,{class:"flex-1 flex-row flex-row-center-center"},{default:u((()=>[c(H,{"font-size":m(y).fontSize,label:b.label[0]},null,8,["font-size","label"])])),_:1}),c(l,{class:"flex-1 flex-row flex-row-center-center"},{default:u((()=>[c(H,{"font-size":m(y).fontSize,label:b.label[1]},null,8,["font-size","label"])])),_:1})])),_:1},8,["style"]),c(l,{userInteractionEnabled:!1,class:_([["absolute base nvue",m(k)?"on":"off"],"flex flex-col"]),ref:"switch",style:f({width:m(y).innerWidth+"px",height:m(y).innerHeight+"px"})},{default:u((()=>[c(Y,{userInteractionEnabled:!1,padding:[0,0],margin:[0,0],height:m(y).innerHeight,width:m(y).innerWidth,color:b.barColor,"follow-dark":!1,round:m(y).round,unit:"px",_class:"flex flex-center flex-row"},{default:u((()=>[z.value?(s(),d(L,{key:0,followTheme:b.followTheme,"font-size":m(y).fontSize,color:b.color,name:"tmicon-shuaxin",spin:""},null,8,["followTheme","font-size","color"])):p("",!0),z.value?p("",!0):(s(),d(O,{key:1,name:"zoom"},{default:u((()=>[b.barIcon&&m(k)?(s(),d(L,{key:0,followTheme:b.followTheme,"font-size":m(y).fontSize,color:b.color,name:b.barIcon},null,8,["followTheme","font-size","color","name"])):p("",!0),b.offIcon&&!m(k)?(s(),d(L,{key:1,followTheme:b.followTheme,"font-size":m(y).fontSize,name:b.offIcon,_class:"opacity-5"},null,8,["followTheme","font-size","name"])):p("",!0)])),_:1}))])),_:1},8,["height","width","color","round"])])),_:1},8,["class","style"])])),_:1},8,["style"])])),_:1},8,["no-level","followTheme","followDark","dark","shadow","outlined","borderStyle","borderDirection","linearDeep","linear","round","color","darkBgColor","height","width","_class","text","margin"])}}}),[["__scopeId","data-v-1740a9be"]]),Q=K(e({__name:"tm-dropdown",props:{...E,border:{type:[Number],default:0},round:{type:[Number],default:3},transprent:{type:[Boolean],default:!1},color:{type:String,default:"grey-darken-4"},width:{type:Number,default:0},position:{type:String,default:"bc"},list:{type:Array,default:()=>[],required:!0,validator:e=>"object"==typeof e&&Array.isArray(e)},rangKey:{type:String,default:"text"},disabled:{type:Boolean,default:!1},haveArrow:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:o}){var r;const j=e,S=g("tmuiSysInfo",l((()=>({bottom:0,height:750,width:h(750),top:0,isCustomHeader:!1,sysinfo:null}))));null==(r=t())||r.proxy;const C=a(null),V=l((()=>S.value.width)),T=l((()=>S.value.height));let D=a(!1);a(uni.$tm.u.getUid(5));let N=a(!1),I=a({left:0,right:0,bottom:0,top:0,width:0,height:0}),B=a({left:0,right:0,bottom:0,top:0,width:0,height:0});const $=l((()=>j.list.map((e=>{let t={text:"",icon:"",iconColor:""};return"string"==typeof e||"number"==typeof e?t.text=e:(t.text=e[j.rangKey],t={...t,...e}),t})))),F=l((()=>"bc"==j.position||"bl"==j.position||"br"==j.position?"up":"down"));function M(){uni.$tm.u.throttle((()=>N.value=!0),200)}function E(){uni.$tm.u.debounce((()=>N.value=!1),250)}return w((()=>{})),i((()=>{})),n((()=>N.value),(()=>{})),(e,t)=>{const l=x;return s(),d(l,{class:"flex flex-row relative"},{default:u((()=>[m(N)?(s(),d(l,{key:0,onClick:b(E,["stop"]),onTouchmove:t[0]||(t[0]=b((()=>{}),["stop"])),class:"l-0 t-0 fixed zIndex-9",style:f([{width:m(V)+"px",height:m(T)+"px",background:"rgba(0,0,0,0)"}])},null,8,["onClick","style"])):p("",!0),c(l,{class:_(["flex flex-col",["tc"==j.position?"popover-tc":"","tl"==j.position?"popover-tl":"","tr"==j.position?"popover-tr":"","bc"==j.position?"popover-bc":"","bl"==j.position?"popover-bl":"","br"==j.position?"popover-br":""]])},{default:u((()=>[c(l,{onClick:b(M,["stop"]),class:"relative zIndex-1 flex flex-row"},{default:u((()=>[c(l,{eventPenetrationEnabled:!1,userInteractionEnabled:!1,ref:"popver",class:"flex flex-row"},{default:u((()=>[y(e.$slots,"default",{},void 0,!0)])),_:3},512)])),_:3},8,["onClick"]),m(N)?(s(),d(l,{key:0,style:f([{"z-index":"400"},[m(D)&&"tc"==j.position?{top:m(I).top-m(B).height+"px",left:m(I).left+m(I).width/2-m(B).width/2+"px"}:"",m(D)&&"tl"==j.position?{top:m(I).top-m(B).height+"px",left:m(I).left+"px"}:"",m(D)&&"tr"==j.position?{top:m(I).top-m(B).height+"px",left:m(I).right-m(B).width+"px"}:"",m(D)&&"bc"==j.position?{top:m(I).bottom+"px",left:m(I).left+m(I).width/2-m(B).width/2+"px"}:"",m(D)&&"bl"==j.position?{top:m(I).bottom+"px",left:m(I).left+"px"}:"",m(D)&&"br"==j.position?{top:m(I).bottom+"px",left:m(I).right-m(B).width+"px"}:""]]),class:_([m(D)?"fixed":"absolute","tc"==j.position||"tl"==j.position||"tr"==j.position?"popover-tcc":"","bc"==j.position||"bl"==j.position||"br"==j.position?"popover-bcc":""]),ref:"content"},{default:u((()=>[c(O,{ref_key:"aniDom",ref:C,reverse:"",name:m(F),duration:180,autoPlay:!m(D)},{default:u((()=>[c(l,{class:_(["flex flex-col",["tc"==j.position?"flex-col-center-center":"","tl"==j.position?"flex-col-top-start":"","tr"==j.position?"flex-col-bottom-end":"","bc"==j.position?"flex-col-center-center":"","bl"==j.position?"flex-col-top-start":"","br"==j.position?"flex-col-bottom-end":""]]),style:f([j.width?{width:j.width+"rpx"}:""])},{default:u((()=>["bc"==j.position||"bl"==j.position||"br"==j.position?(s(),d(Y,{key:0,color:j.color,_class:j._class,followTheme:j.followTheme,dark:j.dark,round:0,shadow:j.shadow,outlined:j.outlined,border:j.border,borderStyle:j.borderStyle,borderDirection:j.borderDirection,text:j.text,transprent:j.transprent,linear:j.linear,linearDeep:j.linearDeep,_style:[{zIndex:1},"bc"==j.position?{transform:" rotate(45deg) translateY(8rpx) translateX(8rpx)"}:{},"bl"==j.position?{transform:" rotate(45deg) translateY(-12rpx) translateX(30rpx)"}:{},"br"==j.position?{transform:" rotate(45deg) translateY(20rpx) translateX(-16rpx)",transformOrigin:"0rpx 50%"}:{}],margin:[0,0],padding:[0,0],width:20,height:20},null,8,["color","_class","followTheme","dark","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","_style"])):p("",!0),c(Y,{color:j.color,_class:j._class,_style:[{zIndex:2,position:"relative",overflow:"hidden"}],padding:[0,0],followTheme:j.followTheme,dark:j.dark,round:j.round,shadow:j.shadow,outlined:j.outlined,border:j.border,borderStyle:j.borderStyle,borderDirection:j.borderDirection,text:j.text,transprent:j.transprent,linear:j.linear,linearDeep:j.linearDeep,width:j.width,margin:[0,0]},{default:u((()=>[c(l,{style:{height:"24rpx"}}),(s(!0),v(k,null,z(m($),((e,t)=>(s(),d(l,{"hover-class":"opacity-7",onClick:b((l=>function(e,t){o("click",{index:e,data:t}),N.value=!1}(t,e)),["stop"]),key:t,class:"flex-1 flex px-24 py-16"},{default:u((()=>[c(l,{class:"flex-row flex pb-12 flex-row-center-between"},{default:u((()=>[c(l,{class:"flex flex-row flex-row-center-start flex-1"},{default:u((()=>[e.icon?(s(),d(L,{key:0,color:e.iconColor,dark:j.dark,fontSize:36,_class:"pr-12",name:e.icon},null,8,["color","dark","name"])):p("",!0),c(H,{fontSize:32,label:e.text},null,8,["label"])])),_:2},1024),j.haveArrow?(s(),d(L,{key:0,"font-size":22,_class:"pl-24",name:"tmicon-angle-right"})):p("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),c(l,{style:{height:"8rpx"}})])),_:1},8,["color","_class","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","width"]),"tc"==j.position||"tl"==j.position||"tr"==j.position?(s(),d(Y,{key:1,color:j.color,_class:j._class,followTheme:j.followTheme,dark:j.dark,round:0,shadow:j.shadow,outlined:j.outlined,border:j.border,borderStyle:j.borderStyle,borderDirection:j.borderDirection,text:j.text,transprent:j.transprent,linear:j.linear,linearDeep:j.linearDeep,_style:[{zIndex:1},"tc"==j.position?{transform:" rotate(45deg) translateY(-8rpx) translateX(-8rpx)"}:{},"tl"==j.position?{transform:" rotate(45deg) translateY(-26rpx) translateX(10rpx)"}:{},"tr"==j.position?{transform:" rotate(45deg) translateY(0rpx) translateX(-24rpx)",transformOrigin:"0rpx 50%"}:{}],margin:[0,0],padding:[0,0],width:20,height:20},null,8,["color","_class","followTheme","dark","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","_style"])):p("",!0)])),_:1},8,["class","style"])])),_:1},8,["name","autoPlay"])])),_:1},8,["class","style"])):p("",!0)])),_:3},8,["class"])])),_:3})}}}),[["__scopeId","data-v-7727f9b2"]]),Z=K(e({__name:"tm-stepper",props:{...E,followTheme:{type:[Boolean,String],default:!0},width:{type:[Number],default:210},height:{type:[Number],default:52},disabled:{type:Boolean,default:!1},disabledInput:{type:[Boolean],default:!1},black:{type:[Boolean,String],default:null},step:{type:Number,default:1},fixed:{type:Number,default:0},color:{type:String,default:"grey-4"},bgColor:{type:String,default:"grey-4"},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},round:{type:[String,Number],default:2},fontSize:{type:[String,Number],default:28},circular:{type:[Boolean],default:!1},max:{type:[Number],default:999},min:{type:[Number],default:0},beforeEnter:{type:[Function,Boolean],default:!0},modelValue:{type:Number,default:null},defaultValue:{type:Number,default:null}},emits:["update:modelValue","change"],setup(e,{emit:t}){const o=e,i=A(),p=a(o.defaultValue??"0"),h=l((()=>Number(o.min))),g=l((()=>Number(o.max))),w=l((()=>Number(o.step))),b=l((()=>Number(o.fixed))),y=l((()=>i.tmStore)),v=l((()=>U(o,y.value))),k=l((()=>W({...o,color:o.bgColor,text:!0},v.value,y.value))),z=l((()=>o.disabled));let V=NaN,T=NaN,D=NaN;const N=l((()=>p.value<=h.value)),I=l((()=>p.value>=g.value));async function B(e){if(o.disabled)return;if("function"==typeof o.beforeEnter){j({title:"...",mask:!0});let t=await o.beforeEnter(e);if("function"==typeof t&&(t=await t(e)),S(),!t)return!1}let t=p.value;"+"==e?t=function(e){const t=Math.min(e+Number(w.value),g.value);if(P(e))return E(parseFloat(t.toFixed(b.value)));return E(t)}(p.value):"-"==e&&(t=function(e){const t=Math.max(e-Number(w.value),h.value);if(P(e))return E(parseFloat(t.toFixed(b.value)));return E(t)}(p.value)),r((function(){F(t)}))}function $(e){var t=e.detail.value;clearTimeout(T),T=setTimeout((function(){F(H(t))}),50)}function F(e){let l=e.toFixed(b.value),a=E(Number(l));p.value!==a&&(p.value=null,r((()=>{p.value=a}))),t("update:modelValue",a),t("change",a)}function M(e){o.disabled||(clearInterval(V),V=setInterval((async function(){await B(e)}),250))}function E(e){return Math.min(Math.max(e,h.value),g.value)}function P(e){const t=e.toString().match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function X(e){clearInterval(V)}function H(e){if(e=parseFloat("number"==typeof e?String(e):e),!isNaN(e)&&((t=e)>=h.value&&t<=g.value))return P(e)&&(e=Number(e.toFixed(b.value))),E(e);{let t=E(isNaN(e)?0:e);return E(t)}var t}return n((()=>o.modelValue),((e,t)=>{clearTimeout(D),D=setTimeout((function(){let e=H(o.modelValue);p.value!==e&&(p.value=null,r((()=>{p.value=e})))}),20)})),(t,l)=>{const a=x,n=C;return s(),d(a,{class:"flex flex-row",style:f([{height:`${o.height}rpx`,width:`${o.width}rpx`}])},{default:u((()=>[c(Y,{text:"",class:"flex-1",transprent:o.circular,followTheme:!1,_class:"flex flex-row flex-1",color:o.bgColor,margin:[0,0],padding:[0,0]},{default:u((()=>[c(a,{onClick:l[0]||(l[0]=e=>B("-")),onLongpress:l[1]||(l[1]=e=>M("-")),onTouchend:l[2]||(l[2]=e=>X()),class:_([o.circular?"round-10":"","overflow",m(z)||m(N)?"opacity-5":""])},{default:u((()=>[c(Y,{followTheme:o.followTheme,round:o.circular?10:o.round,linear:o.linear,"linear-deep":o.linearDeep,_class:"flex-center",color:o.color,margin:[0,0],padding:[0,0],height:e.height,width:e.height},{default:u((()=>[c(L,{userInteractionEnabled:!1,"font-size":22,name:"tmicon-minus"})])),_:1},8,["followTheme","round","linear","linear-deep","color","height","width"])])),_:1},8,["class"]),c(n,{class:"mx-4",disabled:o.disabledInput||o.disabled,onBlur:$,modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),"auto-blur":"",style:f([{height:`${o.height}rpx`,textAlign:"center",fontSize:o.fontSize+"rpx",width:o.width-120+"rpx",color:m(k).textColor}]),type:"digit"},null,8,["disabled","modelValue","style"]),c(a,{onClick:l[4]||(l[4]=e=>B("+")),onLongpress:l[5]||(l[5]=e=>M("+")),onTouchend:l[6]||(l[6]=e=>X()),class:_([o.circular?"round-10":"","overflow",m(z)||m(I)?"opacity-5":""])},{default:u((()=>[c(Y,{followTheme:o.followTheme,round:o.circular?10:o.round,linear:o.linear,"linear-deep":o.linearDeep,_class:"flex-center",color:o.color,margin:[0,0],padding:[0,0],height:e.height,width:e.height},{default:u((()=>[c(L,{userInteractionEnabled:!1,"font-size":22,name:"tmicon-plus"})])),_:1},8,["followTheme","round","linear","linear-deep","color","height","width"])])),_:1},8,["class"])])),_:1},8,["transprent","color"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-fdc3f616"]]);const ee=K({data:()=>({vk:uni.vk,jizan_task_list:[],share_time:"",share_date:"",start_date:"2022-3-1",start_time:"00:00",end_date:"2052-12-30",end_time:"2052-3-1 00:00:00",current_jizan_index:0,jizan_edit_show:!1,setting_menu_list:[{text:"修改",id:"edit",icon:"tmicon-edit"},{text:"删除",id:"delete",icon:"tmicon-delete"}],cover_mode_menu_list:[{text:"单页",id:"single",icon:"tmicon-stepmode"},{text:"真实",id:"real",icon:"tmicon-application"}],detail_mode_menu_list:[{text:"单页",id:"single",icon:"tmicon-stepmode"},{text:"真实",id:"real",icon:"tmicon-application"}],tips_content_list:[{icon:"tmicon-alert",content:"临近使用的时候,千万不要清除缓存"},{icon:"tmicon-alert",content:"误触模式能有效避免不小心返回界面"}]}),onShow(){console.log("onshow"),this.initData()},onLoad(){let e=(new Date).getTime();this.share_date=uni.vk.pubfn.timeFormat(e,"yyyy-MM-dd"),this.share_time=uni.vk.pubfn.timeFormat(e,"hh:mm"),this.start_date=uni.vk.pubfn.timeFormat(e-7776e6,"yyyy-MM-dd"),this.start_time=uni.vk.pubfn.timeFormat(e-7776e6,"hh:mm"),this.end_date=uni.vk.pubfn.timeFormat(e+7776e6,"yyyy-MM-dd"),this.end_time=uni.vk.pubfn.timeFormat(e+7776e6,"yyyy-MM-dd hh:mm:ss")},methods:{change_share_date(e){console.log("change_share_date",e.detail.value),this.share_date=e.detail.value;let t=this.share_date+" "+this.share_time;t=t.replace(/-/g,"/");let l=new Date(t).getTime();this.jizan_task_list[this.current_jizan_index].share_time=l},change_share_time(e){console.log("e",e),this.share_time=e.detail.value;let t=this.share_date+" "+this.share_time;t=t.replace(/-/g,"/"),console.log("date_str",t);let l=new Date(t).getTime();this.jizan_task_list[this.current_jizan_index].share_time=l},choose_avatar_action(e){console.log("选择图片"),V({count:1,sizeType:"original",sourceType:["album"],success:async e=>{if(console.log(e),e.tempFilePaths.length>0){let t=e.tempFilePaths[0];this.jizan_task_list[this.current_jizan_index].avatar=t}}})},random_jizan_user(){let e=Math.round(800*Math.random()-1);this.jizan_task_list[this.current_jizan_index].avatar=`/static/avatar/${e}.jpg`;let t=local_nickname_list.length,l=Math.round(Math.random()*t-1);this.jizan_task_list[this.current_jizan_index].nickname=local_nickname_list[l]},change_touch_mode(e,t){let l="";l=e.prevent_mistouch||!1?"关闭误触模式,点击返回键或者侧滑将直接退出界面,是否还需要关闭":"开启误触模式,你需要点击3次返回才可退出界面,是否还需要开启",T({title:"提示",content:l,success:e=>{e.confirm?(console.log("用户点击确定"),this.jizan_task_list[t].prevent_mistouch=!this.jizan_task_list[t].prevent_mistouch,uni.vk.setVuex("$app.jizan_task_list",this.jizan_task_list)):console.log("用户取消")}})},clear_all_record(){T({title:"提示",content:"清除所有记录,将无法找回,是否继续",success:e=>{e.confirm?(console.log("用户点击确定"),this.jizan_task_list=[],uni.vk.setVuex("$app.jizan_task_list",this.jizan_task_list)):console.log("用户取消")}})},comfir_jizan_edit(){uni.vk.setVuex("$app.jizan_task_list",this.jizan_task_list)},to_activate(e,t){this.preview_detail(t)},initData(){this.jizan_task_list=uni.vk.getVuex("$app.jizan_task_list")||[],console.log("this.jizan_task_list",this.jizan_task_list)},preview_detail(e){this.to_page(`/pages/moment/simulate?jizan_task_index=${e}&from_cover=false&open_mode=single`)},to_detail(e,t){console.log("event",e,"jizan_task_index",t);let l="";l="single"==e.data.id?"单页模式适合截图,只有内容,不支持删除,点击和跳转,是否打开?":"[仅会员可用,非会员预览有遮罩!]\n该模式支持删除,点击和跳转,个人信息,并自动开启误触,是否打开?",T({title:"提示",content:l,success:l=>{l.confirm?(console.log("用户点击确定"),this.to_page(`/pages/moment/simulate?jizan_task_index=${t}&from_cover=false&open_mode=${e.data.id}`)):console.log("用户取消")}})},to_setting(e,t){if(console.log("event",e,"jizan_task_index",t),this.current_jizan_index=t,"delete"==e.data.id)T({title:"提示",content:"删除之后无法找回,是否删除?",success:e=>{e.confirm?(console.log("用户点击确定"),this.jizan_task_list.splice(this.jizan_task_index,1),uni.vk.setVuex("$app.jizan_task_list",this.jizan_task_list)):console.log("用户取消")}});else if("edit"==e.data.id){let e=uni.vk.getVuex("$user.userInfo.vip_time")||0;if((new Date).getTime()>=e)return void uni.vk.alert("该功能为会员专属,可修改头像,昵称,赞数");this.jizan_edit_show=!0}},to_cover(e,t){if(console.log("event",e,"jizan_task_index",t),this.current_jizan_index=t,0==this.jizan_task_list[this.current_jizan_index].share_photo_list.length)return void uni.vk.alert("该记录没有图片,无法使用封面模式");let l="";l="single"==e.data.id?"单页模式适合截图,只有内容,不支持删除,点击和跳转,是否打开?":"[仅会员可用,非会员预览有遮罩!]\n该模式支持删除,点击和跳转,个人信息,并自动开启误触,是否打开?",T({title:"提示",content:l,success:l=>{l.confirm?(console.log("用户点击确定"),this.to_page(`/pages/cover/simulate?jizan_task_index=${t}&from_cover=false&open_mode=${e.data.id}`)):console.log("用户取消")}})},to_page(e){uni.vk.navigateTo({url:e,fail:e=>{console.log("err",e)}})}}},[["render",function(e,t,l,a,o,n){const i=P(I("tm-alert"),M),r=x,f=B,m=P(I("tm-button"),X),_=$,h=P(I("tm-switch"),R),g=P(I("tm-icon"),L),w=P(I("tm-dropdown"),Q),b=P(I("tm-input"),q),y=P(I("tm-stepper"),Z),j=F,S=P(I("tm-modal"),J),C=P(I("tm-app"),G);return s(),d(C,null,{default:u((()=>[c(r,null,{default:u((()=>[c(i,{shadow:2,content:o.tips_content_list,height:80,showDot:!0,maxLine:2},null,8,["content"])])),_:1}),o.jizan_task_list.length?(s(),d(r,{key:1,style:{"margin-bottom":"300rpx"}},{default:u((()=>[c(r,{class:"mx-20 flex flex-row flex-center"},{default:u((()=>[c(r,null,{default:u((()=>[c(m,{label:"清除全部记录(防止卡顿)",width:500,color:"red",onClick:n.clear_all_record},null,8,["onClick"])])),_:1})])),_:1}),(s(!0),v(k,null,z(o.jizan_task_list,((e,t)=>(s(),d(r,{round:10,shadow:15,padding:[25,25],class:"pa-25 shadow-10 round-10 white ma-20"},{default:u((()=>[c(r,{class:"flex flex-row flex-between"},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center"},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center my-5",onClick:l=>n.to_activate(e,t)},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[e.activate?(s(),d(_,{key:0,class:"text-green text-weight-b flex flex-row flex-center"},{default:u((()=>[D("已激活")])),_:1})):(s(),d(_,{key:1,class:"text-red text-weight-b flex flex-row flex-center"},{default:u((()=>[D("未激活")])),_:1}))])),_:2},1024),c(r,{class:"mx-20 flex flex-row flex-center"},{default:u((()=>[c(h,{width:80,height:40,barIcon:"tmicon-safety-certificate",color:"green",modelValue:e.activate,"onUpdate:modelValue":t=>e.activate=t,defaultValue:e.activate,disabled:!0},null,8,["modelValue","onUpdate:modelValue","defaultValue"])])),_:2},1024)])),_:2},1032,["onClick"]),c(r,{class:"flex flex-row flex-start-center my-5",onClick:l=>n.change_touch_mode(e,t)},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(_,{class:"text-blue-green text-weight-b flex flex-row flex-center"},{default:u((()=>[D("误触模式")])),_:1})])),_:1}),c(r,{class:"mx-20 flex flex-row flex-center"},{default:u((()=>[c(h,{width:80,height:40,barIcon:"tmicon-safety-certificate",color:"green",modelValue:e.prevent_mistouch,"onUpdate:modelValue":t=>e.prevent_mistouch=t,defaultValue:e.prevent_mistouch,disabled:!0},null,8,["modelValue","onUpdate:modelValue","defaultValue"])])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024),c(r,null,{default:u((()=>[c(w,{position:"br",color:"grey-darken-4",width:220,list:o.setting_menu_list,onClick:e=>n.to_setting(e,t)},{default:u((()=>[c(g,{name:"tmicon-cog",color:"blue-grey",shadow:15,"font-size":50})])),_:2},1032,["list","onClick"])])),_:2},1024)])),_:2},1024),c(r,null,{default:u((()=>[c(_,{class:"text-blue-green text-weight-b text-size-xs"},{default:u((()=>[D("创建于"+N(o.vk.pubfn.timeFormat(e.create_time," yyyy-MM-dd hh:mm")),1)])),_:2},1024),c(_,{class:"text-overflow-2 text-grey text-size-xs my-10"},{default:u((()=>[D(N(e.share_text),1)])),_:2},1024)])),_:2},1024),c(r,{class:"flex flex-row flex-around"},{default:u((()=>[c(r,{class:"flex flex-col flex-center"},{default:u((()=>[c(g,{name:"tmicon-ios-aperture",color:"blue-grey","font-size":50}),c(_,{class:"text-blue-grey text-size-xs"},{default:u((()=>[D("图文")])),_:1})])),_:1}),c(r,{class:"flex flex-col flex-center pa-20"},{default:u((()=>[c(g,{name:"tmicon-md-heart1",color:"blue-grey","font-size":50}),c(_,{class:"text-blue-grey text-size-xs"},{default:u((()=>[D(N(e.like_num),1)])),_:2},1024)])),_:2},1024),c(r,{class:"flex flex-col flex-center pa-20"},{default:u((()=>[c(g,{name:"tmicon-ios-chatbubbles",color:"blue-grey","font-size":50}),c(_,{class:"text-blue-grey text-size-xs"},{default:u((()=>[D(N(e.discuss_num),1)])),_:2},1024)])),_:2},1024),c(r,{class:"flex flex-col flex-center pa-20"},{default:u((()=>[c(g,{name:"tmicon-picture-fill",color:"blue-grey","font-size":50}),c(_,{class:"text-blue-grey text-size-xs"},{default:u((()=>[D(N(e.share_photo_list.length),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),c(r,{class:"flex flex-row flex-around"},{default:u((()=>[c(r,null,{default:u((()=>[c(w,{position:"br",color:"grey-darken-4",width:220,list:o.cover_mode_menu_list,onClick:e=>n.to_cover(e,t)},{default:u((()=>[c(m,{label:"封面模式",width:250,height:80,round:20,disabled:0==e.share_photo_list.length},null,8,["disabled"])])),_:2},1032,["list","onClick"])])),_:2},1024),c(r,null,{default:u((()=>[c(w,{position:"br",color:"grey-darken-4",width:220,list:o.detail_mode_menu_list,onClick:e=>n.to_detail(e,t)},{default:u((()=>[c(m,{label:"详情模式",width:250,height:80,round:20})])),_:2},1032,["list","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),c(S,{show:o.jizan_edit_show,"onUpdate:show":t[3]||(t[3]=e=>o.jizan_edit_show=e),width:700,height:750,okText:"修改",splitBtn:"",onOk:n.comfir_jizan_edit},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(m,{icon:"tmicon-sync-alt",label:"随机",width:200,height:50,round:15,margin:[10,10],padding:[5,5],onClick:n.random_jizan_user},null,8,["onClick"])])),_:1}),c(r,{class:"round-20 shadow-10 m-15 flex flex-row flex-row-center-between",onClick:n.choose_avatar_action},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center ma-20"},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(g,{size:"24",name:"tmicon-picture-fill",color:"#607d8b"})])),_:1}),c(r,{class:"ma-10"},{default:u((()=>[c(_,null,{default:u((()=>[D("头像")])),_:1})])),_:1})])),_:1}),c(r,{class:"mr-n10"},{default:u((()=>[c(f,{src:o.jizan_task_list[o.current_jizan_index].avatar,style:{width:"60rpx",height:"60rpx"},mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1},8,["onClick"]),c(r,{class:"round-20 shadow-10 m-15 mt-20 flex flex-row flex-row-center-between"},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center ma-20"},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(g,{size:"24",name:"tmicon-user-circle",color:"#607d8b"})])),_:1}),c(r,{class:"ma-10"},{default:u((()=>[c(_,null,{default:u((()=>[D("昵称")])),_:1})])),_:1})])),_:1}),c(r,{class:"mr-20",style:{width:"400rpx"}},{default:u((()=>[c(b,{transprent:"",align:"right","input-type":"text",modelValue:o.jizan_task_list[o.current_jizan_index].nickname,"adjust-position":!0,"onUpdate:modelValue":t[0]||(t[0]=e=>o.jizan_task_list[o.current_jizan_index].nickname=e),showClear:""},null,8,["modelValue"])])),_:1})])),_:1}),c(r,{class:"round-20 shadow-10 m-15 mt-20 flex flex-row flex-row-center-between"},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center ma-20"},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(g,{size:"24",name:"tmicon-md-heart",color:"#607d8b"})])),_:1}),c(r,{class:"ma-10"},{default:u((()=>[c(_,null,{default:u((()=>[D("集赞数量")])),_:1})])),_:1})])),_:1}),c(r,{class:"mr-20 flex flex-row flex-end",style:{width:"400rpx"}},{default:u((()=>[c(y,{defaultValue:o.jizan_task_list[o.current_jizan_index].like_num,step:5,max:400,modelValue:o.jizan_task_list[o.current_jizan_index].like_num,"onUpdate:modelValue":t[1]||(t[1]=e=>o.jizan_task_list[o.current_jizan_index].like_num=e)},null,8,["defaultValue","modelValue"])])),_:1})])),_:1}),"cover"==o.jizan_task_list[o.current_jizan_index].share_type?(s(),d(r,{key:0,class:"round-20 shadow-10 m-15 mt-20 flex flex-row flex-row-center-between"},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center ma-20"},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(g,{size:"24",name:"tmicon-md-heart",color:"#607d8b"})])),_:1}),c(r,{class:"ma-10"},{default:u((()=>[c(_,null,{default:u((()=>[D("评论数量")])),_:1})])),_:1})])),_:1}),c(r,{class:"mr-20 flex flex-row flex-end",style:{width:"400rpx"}},{default:u((()=>[c(y,{defaultValue:o.jizan_task_list[o.current_jizan_index].discuss_num,step:5,max:400,modelValue:o.jizan_task_list[o.current_jizan_index].discuss_num,"onUpdate:modelValue":t[2]||(t[2]=e=>o.jizan_task_list[o.current_jizan_index].discuss_num=e)},null,8,["defaultValue","modelValue"])])),_:1})])),_:1})):p("",!0),c(r,{class:"round-20 shadow-10 m-15 flex flex-row flex-row-center-between"},{default:u((()=>[c(r,{class:"flex flex-row flex-start-center ma-20"},{default:u((()=>[c(r,{class:"flex flex-row flex-center"},{default:u((()=>[c(g,{size:"24",name:"tmicon-calendaralt-fill",color:"#607d8b"})])),_:1}),c(r,{class:"ma-10"},{default:u((()=>[c(_,null,{default:u((()=>[D("发布时间")])),_:1})])),_:1})])),_:1}),c(r,{class:"mr-n10 flex flex-row"},{default:u((()=>[c(j,{mode:"date",value:o.share_date,start:o.start_date,end:o.end_date,onChange:n.change_share_date},{default:u((()=>[c(_,{class:"mx-20"},{default:u((()=>[D(N(o.share_date),1)])),_:1})])),_:1},8,["value","start","end","onChange"]),c(j,{mode:"time",value:o.share_time,start:"00:00",end:"23:59",onChange:n.change_share_time},{default:u((()=>[c(_,{class:"mx-20"},{default:u((()=>[D(N(o.share_time),1)])),_:1})])),_:1},8,["value","onChange"])])),_:1})])),_:1})])),_:1},8,["show","onOk"])])),_:1})):(s(),d(r,{key:0},{default:u((()=>[c(f,{src:"/client/assets/null-04fd573e.png",style:{width:"750rpx"},mode:"widthFix"})])),_:1}))])),_:1})}]]);export{ee as default};
