import{q as e,v as o,x as l,y as a,o as t,c as n,w as r,b as i,D as d,f,a2 as c,a5 as s,G as p,j as u}from"./index-f5cba0e4.js";import{_ as k}from"./tm-sheet.38d3d718.js";import{t as y}from"./tm-text.d010834d.js";import{_ as m}from"./tm-icon.ed97db34.js";import{t as g}from"./tm-translate.1353da0c.js";import{c as z,e as S,a as b}from"./uni-app.es.62a9cda9.js";const w=e({__name:"tm-tag",props:{...z,followTheme:{type:[Boolean],default:!0},transprent:{type:[Boolean],default:!1},border:{type:[Number],default:0},round:{type:[Number],default:2},shadow:{type:[Number],default:1},margin:{type:Array,default:()=>[10,10]},padding:{type:Array,default:()=>[0,0]},checkable:{type:[Boolean],default:!1},checked:{type:[Boolean],default:!1},load:{type:[Boolean],default:!1},size:{type:String,default:"m"},fontSize:{type:[Number],default:0},closable:{type:[Boolean],default:!1},icon:{type:[String],default:""},iconAlign:{type:String,default:"left"},label:{type:[String],default:""},fontColor:{type:String,default:""},beforeClose:{type:Function,default:null}},emits:["click","close","change","update:checked"],setup(e,{emit:z}){const w=e,x=o(null),D=l((()=>S(w)));l((()=>b(w)));const h=o(!0),v=o(!1),_=l((()=>w.fontColor)),C=l((()=>w.load)),j=l({get:function(){return v.value},set:function(e){v.value=e,z("update:checked",v.value)}});j.value=w.checked,a((()=>w.checked),(e=>{j.value=e,z("change",j.value)}));const A=l((()=>"xs"==w.size?{px:w.padding[0]||10,py:w.padding[1]||4,fontSize:w.fontSize||22}:"s"==w.size?{px:w.padding[0]||14,py:w.padding[1]||4,fontSize:w.fontSize||24}:"m"==w.size?{px:w.padding[0]||16,py:w.padding[1]||8,fontSize:w.fontSize||26}:"n"==w.size?{px:w.padding[0]||18,py:w.padding[1]||10,fontSize:w.fontSize||28}:"g"==w.size?{px:w.padding[0]||20,py:w.padding[1]||12,fontSize:w.fontSize||32}:"lg"==w.size?{px:w.padding[0]||24,py:w.padding[1]||16,fontSize:w.fontSize||36}:{px:w.padding[0],py:w.padding[1],fontSize:w.fontSize}));function B(e){z("click",e),C.value||(j.value=!j.value)}function E(){h.value=!1,z("close")}async function I(e){if(C.value)return;e.stopPropagation();let o=!0;("function"!=typeof w.beforeClose||(o=await w.beforeClose(),"function"==typeof o&&(o=await o()),o))&&(x.value?x.value.play():(h.value=!1,z("close")))}return(e,o)=>{const l=u;return h.value?(t(),n(l,{key:0,class:p(["flex flex-row",[d(C)?"opacity-5":""]])},{default:r((()=>[i(g,{onEnd:E,ref_key:"anitag",ref:x,name:"zoom",reverse:"",autoPlay:!1},{default:r((()=>[i(k,{onClick:B,transprent:w.transprent,color:w.color,_class:"flex-row flex flex-row-center-center",_style:d(D),followTheme:w.followTheme,followDark:w.followDark,dark:w.dark,round:w.round,shadow:w.checkable&&d(j)||!w.checkable?w.shadow:0,outlined:!(!w.checkable||d(j))||w.outlined,border:w.border,borderStyle:w.borderStyle,borderDirection:w.borderDirection,text:!(!w.checkable||d(j))||w.text,linear:w.linear,linearDeep:w.linearDeep,margin:w.margin,padding:[d(A).px,d(A).py],"border-color":w.borderColor,"linear-color":w.linearColor},{default:r((()=>[w.icon&&"left"==w.iconAlign?(t(),n(m,{key:0,color:d(_),name:w.icon,followDark:w.followDark,fontSize:d(A).fontSize,dark:w.dark,userInteractionEnabled:!1},null,8,["color","name","followDark","fontSize","dark"])):f("",!0),i(l,{class:"flex-1 flex flex-center px-12"},{default:r((()=>[c(e.$slots,"default",{},(()=>[i(y,{color:d(_),fontSize:d(A).fontSize,followDark:w.followDark,userInteractionEnabled:!1,dark:w.dark,label:w.label},null,8,["color","fontSize","followDark","dark","label"])]))])),_:3}),i(l,{onClick:o[0]||(o[0]=s((()=>{}),["stop"]))},{default:r((()=>[w.closable&&!d(C)?(t(),n(m,{key:0,color:d(_),onClick:I,followDark:w.followDark,_class:w.icon?"pl-10":"",fontSize:.8*d(A).fontSize,name:"tmicon-times",dark:w.dark},null,8,["color","followDark","_class","fontSize","dark"])):f("",!0)])),_:1}),w.icon&&"right"==w.iconAlign?(t(),n(m,{key:1,color:d(_),name:w.icon,followDark:w.followDark,fontSize:d(A).fontSize,dark:w.dark,userInteractionEnabled:!1},null,8,["color","name","followDark","fontSize","dark"])):f("",!0),d(C)?(t(),n(l,{key:2,userInteractionEnabled:!1,class:"pl-10 flex flex-center flex-row",style:{"line-height":"0"}},{default:r((()=>[i(m,{color:d(_),followDark:w.followDark,fontSize:.8*d(A).fontSize,name:"tmicon-loading",spin:"",dark:e.dark},null,8,["color","followDark","fontSize","dark"])])),_:1})):f("",!0)])),_:3},8,["transprent","color","_style","followTheme","followDark","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","linear","linearDeep","margin","padding","border-color","linear-color"])])),_:3},512)])),_:3},8,["class"])):f("",!0)}}});export{w as _};
