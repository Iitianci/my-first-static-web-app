var r,e,o;import{ao as t,ai as a,ap as l,aq as s,ar as i,as as n,u as h,at as d,au as b}from"./index-f5cba0e4.js";var g={rgbaToHsla(r){let{r:e,g:o,b:t,a:a}=r;e/=255,o/=255,t/=255;var l,s,i=Math.max(e,o,t),n=Math.min(e,o,t);return(l=i===n?0:i===e?60*(o-t)/(i-n):i===o?60*(2+(t-e)/(i-n)):60*(4+(e-o)/(i-n)))<0&&(l+=360),s=(i+n)/2,{h:l,s:100*(i===n?0:s<.5?(i-n)/(i+n):(i-n)/(2-i-n)),l:100*s,a:a}},hslaToRgba(r){let{h:e,s:o,l:t,a:a}=r;var l,s,i;if(e/=360,o/=100,t/=100,0===o)l=s=i=t;else{let r=function(r,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?r+6*(e-r)*o:o<.5?e:o<2/3?r+(e-r)*(2/3-o)*6:r};var n=t<.5?t*(1+o):t+o-t*o,h=2*t-n;l=r(h,n,e+1/3),s=r(h,n,e),i=r(h,n,e-1/3)}return{r:Math.round(255*l),g:Math.round(255*s),b:Math.round(255*i),a:a}},cssToRgba:function(r){if(!r)return{r:0,g:0,b:0,a:0};if((r=r.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(r)){if(4===r.length){let e="#";for(let o=1;o<4;o+=1)e+=r.slice(o,o+1).concat(r.slice(o,o+1));r=e}let e=[];for(let o=1;o<7;o+=2)e.push(parseInt("0x"+r.slice(o,o+2)));return{r:e[0],g:e[1],b:e[2],a:1}}if(/^(rgb|RGB|rgba|RGBA)/.test(r)){let e=r.replace(/(?:\(|\)|rgba|rgb|RGB|RGBA)*/g,"").split(",").map((r=>Number(r)));return e.length<3?{r:0,g:0,b:0,a:1}:(3==e.length&&e.push(1),{r:e[0],g:e[1],b:e[2],a:e[3]})}return{r:0,g:0,b:0,a:1}},rgbaToHsva:function(r){if(!r)return{h:0,s:1,v:1,a:1};const e=r.r/255,o=r.g/255,t=r.b/255,a=Math.max(e,o,t),l=Math.min(e,o,t);let s=0;a!==l&&(a===e?s=60*(0+(o-t)/(a-l)):a===o?s=60*(2+(t-e)/(a-l)):a===t&&(s=60*(4+(e-o)/(a-l)))),s<0&&(s+=360);const i=[s,0===a?0:(a-l)/a,a];return{h:i[0],s:i[1],v:i[2],a:r.a}},hsvaToRgba:function(r){var e,o,t,a,l,{h:s,s:i,v:n,a:h}=r,d=0,b=0,g=0;switch(t=n*(1-i),a=n*(1-(o=6*s-(e=Math.floor(6*s)))*i),l=n*(1-(1-o)*i),e%6){case 0:d=n,b=l,g=t;break;case 1:d=a,b=n,g=t;break;case 2:d=t,b=n,g=l;break;case 3:d=t,b=a,g=n;break;case 4:d=l,b=t,g=n;break;case 5:d=n,b=t,g=a}return{r:d,g:b,b:g,a:h}},rgbaToCss:function(r){return`rgba(${r.r},${r.g},${r.b},${r.a})`}},c=(r=>(r.left="left",r.right="right",r.bottom="bottom",r.top="top",r.leftright="x",r.topbottom="y",r.topleft="top-left",r.topright="top-right",r.bottomleft="bottom-left",r.bottomright="bottom-right",r.all="all",r))(c||{}),u=(r=>(r.left="to left",r.right="to right",r.top="to top",r.bottom="to bottom",r.none="",r))(u||{}),f=(r=>(r.light="light",r.dark="dark",r.accent="accent",r))(f||{}),m=(r=>(r.solid="solid",r.dashed="dashed",r.dotted="dotted",r))(m||{});let p=(null==(e=null==(r=null==uni?void 0:uni.$tm)?void 0:r.config)?void 0:e.theme)?{...uni.$tm.config.theme}:{};var y=[],C={red:"#FE1C00",pink:"#CA145D",purple:"#A61BC3","deep-purple":"#6A0E81",indigo:"#652DF4",blue:"#0163FF","light-blue":"#0889FF",cyan:"#11CDE8",teal:"#00998a",green:"#5DBD1F","light-green":"#83D54A",lime:"#D4ED00",yellow:"#FFC400",amber:"#FFFB01",orange:"#FEA600","deep-orange":"#FE5C00",brown:"#795548","blue-grey":"#607D8B",grey:"#9E9E9E",black:"#000000",white:"#FFFFFF",primary:"#0163FF","grey-5":"#fafafa","grey-4":"#f5f5f5","grey-3":"#eeeeee","grey-2":"#e0e0e0","grey-1":"#bdbdbd","grey-darken-1":"#757575","grey-darken-2":"#616161","grey-darken-3":"#404044","grey-darken-4":"#202022","grey-darken-5":"#111112","grey-darken-6":"#0A0A0B",...p};for(const _ in C)if(Object.prototype.hasOwnProperty.call(C,_)){const r=String(C[_]);if(T(r)){let e=g.cssToRgba(r);y.push({name:_,value:r,hsva:g.rgbaToHsva(g.cssToRgba(r)),rgba:g.cssToRgba(r),hsla:g.rgbaToHsla(e),csscolor:`rgba(${e.r},${e.g},${e.b},${e.a})`})}}function T(r){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(r)||/^(rgb|RGB|rgba|RGBA)/.test(r)}const k={isCssColor:T,themeColors:class{constructor(r=y){this.colors=[],this.colors=r}hasColors(r=""){return this.colors.filter((function(e,o){return e.name==r})).length>0}add(r="",e=""){if(this.colors.filter((function(e,o){return e.name==r})).length>0)return this.colors;if(!e)return console.error("颜色值必填!!!"),this.colors;let o=g.cssToRgba(e),t={csscolor:"",hsva:{h:0,s:0,v:0,a:0},hsla:{h:0,s:0,l:0,a:0},rgba:{r:0,g:0,b:0,a:0},name:r,value:e};return t.csscolor=g.rgbaToCss(o),t.hsva=g.rgbaToHsva(o),t.rgba=o,t.hsla=g.rgbaToHsla(o),this.colors.push(t),this.colors}del(r){let e=this.colors.findIndex((function(e,o){return e.name==r}));-1!=e?this.colors.splice(e,1):console.error("删除失败，主题中不存在相关名称的主题。")}getColor(r){let e=this.colors.findIndex((function(e,o){return e.name==r}));return-1==e&&(r="primary",e=this.colors.findIndex((function(e,o){return e.name==r})),console.error("主题中不存在相关名称的主题。")),this.colors[e]}getTheme(r={colorname:"primary",dark:!1}){var e,o;r.colorname||(console.error("颜色名称必填"),r.colorname="primary");let t=this.colors.findIndex((e=>e.name==r.colorname));-1==t&&(console.error("主题不存在，默认为primary"),r.colorname="primary");let a={...this.colors[t]};function l(r,e,o){return(2126*r+7152*e+722*o)/1e4<180}r.borderWidth=isNaN(parseInt(String(r.borderWidth)))?0:r.borderWidth??0,r.borderStyle=r.borderStyle?r.borderStyle:"solid",r.borderColor=r.borderColor||"",r.borderDirection=r.borderDirection||c.all,r.linearDirection=r.linearDirection||u.none,r.linearDeep=r.linearDeep||f.light,r.shadow=isNaN(parseInt(String(r.shadow)))?6:r.shadow,r.round=isNaN(parseInt(String(r.round)))?4:r.round,r.opaticy=isNaN(parseInt(String(r.opaticy)))?1:r.opaticy,r.outlined="boolean"==typeof r.outlined&&r.outlined,r.text="boolean"==typeof r.text&&r.text,r.blur="boolean"==typeof r.blur&&r.blur;let s=!1,i=!1,n=!1,h=!1,d=!1;d=l(a.rgba.r,a.rgba.g,a.rgba.b),0==a.hsla.h&&0==a.hsla.s&&0==a.hsla.l&&(s=!0),0==a.hsla.h&&0==a.hsla.s&&100==a.hsla.l&&(i=!0),0==a.hsla.h&&0==a.hsla.s&&a.hsla.l<100&&(h=!0),0==a.hsla.h&&0==a.hsla.s&&(n=!0);let b={};b.color=a.value,b.config={...r},b.isBlackAndWhite=n,b.gradientColor=[],b.colorname=r.colorname;let m={...a.hsla};b.borderCss={};let p={...a.hsla};r.dark&&!n&&(p.l=40),r.blur&&(p.a=.85),b.backgroundColor=g.rgbaToCss(g.hslaToRgba({...p})),n&&r.dark&&(b.backgroundColor=g.rgbaToCss(g.hslaToRgba({...p,h:240,s:3,l:8})),b.border=g.rgbaToCss(g.hslaToRgba({...m,h:240,s:3,l:12}))),i&&!r.dark&&(b.border=g.rgbaToCss(g.hslaToRgba({...m,l:90}))),s&&!r.dark&&(b.border=g.rgbaToCss(g.hslaToRgba({...m,l:12}))),b.backgroundColorCss={"background-color":b.backgroundColor};let y={...a.hsla};if(r.dark?y.l=95:y.l=d?95:h?10:20,r.outlined){y.l=a.hsla.l,r.dark?y.l=55:0==a.hsla.h||0==a.hsla.s||l(a.rgba.r,a.rgba.g,a.rgba.b)||(y.l=20),(s||i)&&r.dark&&(y.l=100),r.borderWidth=r.borderWidth||2;let e={h:a.hsla.h,s:a.hsla.s,l:0,a:0},o=g.rgbaToCss(g.hslaToRgba(e));b.backgroundColor=o,b.backgroundColorCss={"background-color":o},b.textColor=g.rgbaToCss(g.hslaToRgba(y))}if(r.text){y.l=a.hsla.l,h?y.l=15:0==a.hsla.h||0==a.hsla.s||l(a.rgba.r,a.rgba.g,a.rgba.b)||(y.l=20),r.dark&&(y.l=60,n||(y.s=100)),s&&(y.l=90),i&&(y.l=15),0==a.hsla.h&&0==a.hsla.s&&r.dark&&(y.l=90),b.textColor=g.rgbaToCss(g.hslaToRgba(y)),b.border=b.textColor;let e=a.csscolor,o={h:a.hsla.h,s:a.hsla.s,l:96,a:a.hsla.a};r.dark&&(0!=a.hsla.h&&0!=a.hsla.s?(o.l=12,o.s=35):(o.l=12,o.s=0)),r.blur&&(o.a=.85),e=g.rgbaToCss(g.hslaToRgba(o)),b.backgroundColor=e,b.backgroundColorCss={"background-color":e}}if(r.shadow){let e={h:a.hsla.h,s:100,l:50,a:.2};0==a.hsla.h&&0==a.hsla.s&&(e={h:0,s:0,l:20,a:.07});let o=g.rgbaToCss(g.hslaToRgba(e));b.shadowColor={boxShadow:`0rpx ${2.5*r.shadow}rpx ${6*r.shadow}rpx ${o}`}}if(r.linearDirection){let e={h:0,s:0,l:0,a:a.hsla.a},o={h:0,s:0,l:0,a:a.hsla.a},t=u[r.linearDirection],s=0;s=a.hsla.h<180&&a.hsla.h>0?20:-37,0==a.hsla.h&&0==a.hsla.s&&100==a.hsla.l?"light"==r.linearDeep?(e.l=80,o.l=20):(e.l=50,o.l=40):0==a.hsla.h&&0==a.hsla.s&&0==a.hsla.l?"light"==r.linearDeep?(e.l=40,o.l=10):(e.l=30,o.l=0):(o.h=a.hsla.h,o.s=a.hsla.s,e.h=a.hsla.h,e.s=a.hsla.s,"light"==r.linearDeep?(e.h=e.h,e.s=90,e.l=70,o.l=44):"dark"==r.linearDeep?(o.s=90,o.l=26,e.s=90,e.l=50):"accent"==r.linearDeep&&(e.h-=0,e.s=90,e.l=54,o.h-=s,o.s=90,o.l=54)),r.dark&&(e.l=40,o.l=40,y.l=90);let i=g.rgbaToCss(g.hslaToRgba(e)),n=g.rgbaToCss(g.hslaToRgba(o));if(!r.text&&!r.outlined){b.backgroundColorCss={"background-image":`linear-gradient(${t},${i},${n})`};let s={h:(e.h+o.h)/2,s:(e.s+o.s)/2,l:(e.l+o.l)/2,a:(e.a+o.a)/2},h=g.hslaToRgba(s);r.dark||l(h.r,h.g,h.b)||0==a.hsla.h||0==a.hsla.s||(y.l=20),b.backgroundColor=g.rgbaToCss(g.hslaToRgba(s)),b.gradientColor=[i,n],b.linearDirectionStr=t}}1==r.dark&&(b={...b,...(null==(o=null==(e=uni.$tm.config)?void 0:e.themeConfig)?void 0:o.dark)??{}}),b.textColor=g.rgbaToCss(g.hslaToRgba(y)),r.dark?0==a.hsla.h&&0==a.hsla.s?b.border=g.rgbaToCss(g.hslaToRgba({...a.hsla,l:12})):b.border=g.rgbaToCss(g.hslaToRgba({...a.hsla,l:p.l+10})):(0==a.hsla.h&&0==a.hsla.s||r.text&&r.outlined?b.border=g.rgbaToCss(g.hslaToRgba({...a.hsla,l:90})):!r.text&&r.outlined?b.border=g.rgbaToCss(g.hslaToRgba({...y})):!r.text&&!r.outlined&&r.borderWidth>0&&(b.border=g.rgbaToCss(g.hslaToRgba({...a.hsla,l:p.l-3}))),b.border=r.borderColor||b.border);let C=`${r.borderWidth}rpx ${r.borderStyle} ${b.border}`;if("all"==r.borderDirection)b.borderCss.border=C;else if("x"==r.borderDirection||"leftright"==r.borderDirection)b.borderCss["border-left"]=C,b.borderCss["border-right"]=C;else if("y"==r.borderDirection||"topbottom"==r.borderDirection)b.borderCss["border-top"]=C,b.borderCss["border-bottom"]=C;else if("bottomleft"==r.borderDirection)b.borderCss["border-left"]=C,b.borderCss["border-bottom"]=C;else if("bottomright"==r.borderDirection)b.borderCss["border-right"]=C,b.borderCss["border-bottom"]=C;else if("topleft"==r.borderDirection)b.borderCss["border-left"]=C,b.borderCss["border-top"]=C;else if("topright"==r.borderDirection)b.borderCss["border-right"]=C,b.borderCss["border-top"]=C;else{let e="-"+r.borderDirection;b.borderCss[`border${e}`]=C}return b}},getColor:function(r){let e=y.findIndex((function(e,o){return e.name==r}));return-1==e&&(r="primary",e=y.findIndex((function(e,o){return e.name==r})),console.warn("主题中不存在相关名称的主题。")),y[e]}},S={_style:{type:[Array,String,Object],default:()=>[]},_class:{type:[Array,String],default:""},color:{type:String,default:"primary"},followTheme:{type:[Boolean,String],default:!1},dark:{type:[Boolean,String],default:!1},followDark:{type:[Boolean,String],default:!0},round:{type:[Number,Array],default:0},shadow:{type:[Number],default:0},outlined:{type:[Boolean],default:!1},border:{type:[Number],default:0},borderStyle:{type:String,default:m.solid},borderDirection:{type:String,default:c.all},text:{type:[Boolean,String],default:!1},transprent:{type:[Boolean,String],default:!0},transparent:{type:[Boolean,String],default:!0},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},linearColor:{type:[Array],default:()=>[]},isDisabledRoundAndriod:{type:[Boolean,String],default:!1},blur:{type:Boolean,default:!1},borderColor:{type:String,default:""}},D=(r,e)=>{const o=r.followDark,t=r.dark,a=e.dark;return o?a:t},x=r=>{const e=r._class;return"string"==typeof e?e:Array.isArray(e)?e.join(" "):""},A=r=>{const e=r._style;if("string"==typeof e){let r=e.split(";").map((r=>{let e={},o=(r=r.replace(";","")).split(":");return e[o[0]]=o[1],e})),o={};return r.forEach((r=>{o={...o,...r}})),o}if("object"==typeof e&&!Array.isArray(e))return e;if("object"==typeof e&&Array.isArray(e)){let r={};return e.forEach((e=>{r={...r,...e}})),r}return{}},R=(r,e,o)=>{const t=r.color,a=r.border,l=r.shadow,s=r.round,i=r.outlined,n=r.text,h=r.borderStyle,d=r.borderDirection,b=r.linear,g=r.linearDeep,c=r.blur;var u=(null==r?void 0:r.borderColor)??"",f=new k.themeColors(o.colorList);k.isCssColor(t)&&!f.hasColors(t)&&(f=new k.themeColors(f.add(t,t)));let m=t||"primary";return 1==(null==r?void 0:r.followTheme)&&o.color&&(m=o.color,u=""),f.getTheme({colorname:m,dark:e,borderWidth:a,shadow:parseInt(String(l)),round:parseInt(String(s)),outlined:!!i,text:!!n,borderStyle:h,borderDirection:d,linearDirection:b,linearDeep:g,blur:c,borderColor:u})};let w=t("setTmVuetifyColor")||"",v=t("setTmVuetifyBlack"),B=t("setTmVuetifyLocal")||"zh-Hans",$=t("colorArrayList"),F="boolean"==typeof v&&v,I=new k.themeColors;if($){const r=$.filter((r=>I.colors.every((e=>e.name!==r.name))));I=new k.themeColors([...I.colors,...r])}const V=I.colors,N=(null==(o=a())?void 0:o.osName)??"";l("colorArrayList",V);const L=s("tmpinia",{state:()=>({tmStore:{color:w,dark:F,tmVueTifly_pages:"",tmVueTifly_pagesIndex:"",os:N,wxshareConfig_miniMp:{title:"",desc:"",imageUrl:"",path:"",copyLink:"",query:{}},colorList:V,local:B}}),actions:{setPageNow(r){this.tmStore={...this.tmStore,tmVueTifly_pages:r}},setPageNowIndex(r){this.tmStore={...this.tmStore,tmVueTifly_pagesIndex:r}},setTmVuetifyDark(r){l("setTmVuetifyBlack",r="boolean"==typeof r&&r),this.tmStore={...this.tmStore,dark:r}},setTmAutoDark(r=!1){if(l("setTmVuetifyAutoDark",r),this.tmuiConfig.autoDark=r,r){let r="";r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",this.setTmVuetifyDark("dark"==r)}},setWxShare(r){let e=r||{};("object"!=typeof e||Array.isArray(r))&&(e={}),this.tmStore={...this.tmStore,wxshareConfig_miniMp:{...this.tmStore.wxshareConfig_miniMp,...e}}},setTmVuetifyTheme(r){let e=r;e&&""!=e&&!k.isCssColor(e)||(e=""),l("setTmVuetifyColor",e),this.tmStore={...this.tmStore,color:e}},setTmVuetifyAddTheme(r,e,o=!0){this.tmStore={...this.tmStore,colorList:I.add(r,e)},l("colorArrayList",this.tmStore.colorList),o&&this.setTmVuetifyTheme(r)},setTmLocal(r){l("setTmVuetifyLocal",r=r||"zh-Hans"),this.tmStore={...this.tmStore,local:r}}}});function M(r,e){return i(r)?e:r}const E=(r=>(e,o=h())=>{!b&&n(r,e,o)})(d);export{x as a,D as b,S as c,R as d,A as e,E as o,M as r,k as t,L as u};
