import{_ as e}from"./tm-message.42d12b93.js";import{q as t,x as l,o,c as a,w as s,b as i,D as r,a2 as n,f as d,j as f,d as c,r as u,F as m,h as p,i as _}from"./index-f5cba0e4.js";import{r as g}from"./uni-app.es.62a9cda9.js";import{_ as h}from"./tm-skeleton-line.9799a71e.js";import{_ as k}from"./tm-sheet.38d3d718.js";import{t as w}from"./tm-text.d010834d.js";import{_ as x}from"./tm-icon.ed97db34.js";import{t as b}from"./tm-translate.1353da0c.js";import{_ as y}from"./tm-divider.vue_vue_type_script_setup_true_lang.9ff71b57.js";import{_ as D}from"./tm-app.c7c4bc54.js";import{_ as T}from"./_plugin-vue_export-helper.1b428a4d.js";import"./useWindowInfo.47d82cea.js";import"./useTheme.d1454919.js";const v=t({__name:"tm-result",props:{status:{type:String,default:"empty"},icon:{type:String,default:""},color:{type:String,default:"primary"},title:{type:String,default:""},subTitle:{type:String,default:""},btnText:{type:String,default:"确认"},followTheme:{type:[Boolean,String],default:!0},followDark:{type:[Boolean,String],default:!0},dark:{type:[Boolean,String],default:!1},showBtn:{type:Boolean,default:!0},clickDisabled:{type:Boolean,default:!0},text:{type:Boolean,default:!0},size:{type:Number,default:140}},emits:["click","resultClick"],setup(e,{emit:t}){const c=e,u={empty:{icon:"tmicon-shiliangzhinengduixiang-",title:"数据空",subTitle:"下拉刷新",color:"primary"},error:{icon:"tmicon-times",title:"错误",subTitle:"请根据指示操作",color:"red"},success:{icon:"tmicon-check",title:"操作正确",subTitle:"请稍候",color:"green"},warning:{icon:"tmicon-exclamation-circle",title:"异常",subTitle:"请根据指示操作",color:"orange"},lock:{icon:"tmicon-ios-unlock",title:"授权提醒",subTitle:"需要你的授权进一步操作。",color:"blue"},network:{icon:"tmicon-wifi-off",title:"网络错误",subTitle:"请关注你的网络情况",color:"blue"}},m=l((()=>c.icon?c.icon:c.status&&u[c.status].icon||"")),p=l((()=>c.title?c.title:c.status&&u[c.status].title||"")),_=l((()=>c.subTitle?c.subTitle:c.status&&u[c.status].subTitle||"")),g=l((()=>c.color?c.color:c.status&&u[c.status].color||"")),h=e=>{c.clickDisabled||t("resultClick",e)};return(l,u)=>{const y=f;return o(),a(y,{onClick:h,class:"flex flex-col flex-col-center-center pa-32"},{default:s((()=>[i(b,{eventPenetrationEnabled:!0,name:"zoom",delay:300},{default:s((()=>[i(k,{dark:c.dark,followTheme:!1,followDark:c.followDark,_class:"flex-center flex-row rounded",width:c.size,height:c.size,round:25,color:r(g),text:c.text},{default:s((()=>[i(x,{_style:"line-height:normal",dark:c.dark,followDark:c.followDark,fontSize:80,name:r(m)},null,8,["dark","followDark","name"])])),_:1},8,["dark","followDark","width","height","color","text"])])),_:1}),i(y,{eventPenetrationEnabled:!0,class:"flex flex-col flex-center pb-10"},{default:s((()=>[i(w,{dark:c.dark,followDark:c.followDark,_class:"text-weight-b",fontSize:34,label:r(p)},null,8,["dark","followDark","label"])])),_:1}),i(y,{eventPenetrationEnabled:!0,class:"flex flex-col flex-center pb-24"},{default:s((()=>[i(w,{dark:c.dark,followDark:c.followDark,_class:"opacity-6 ",fontSize:24,label:r(_)},null,8,["dark","followDark","label"])])),_:1}),c.showBtn?(o(),a(y,{key:0,eventPenetrationEnabled:!0,"hover-class":"opacity-6",class:"flex flex-col flex-center"},{default:s((()=>[n(l.$slots,"default",{},(()=>[i(k,{padding:[0,0],onClick:u[0]||(u[0]=e=>t("click",e)),height:80,dark:e.dark,followTheme:c.followTheme,followDark:c.followDark,shadow:3,linear:"right",color:r(g),_style:"cursor: pointer;",round:4,width:420,_class:"flex-center",margin:[0,32]},{default:s((()=>[i(w,{userInteractionEnabled:!1,dark:c.dark,_class:"text-size-n",followDark:c.followDark,label:e.btnText},null,8,["dark","followDark","label"])])),_:1},8,["dark","followTheme","followDark","color"])]))])),_:3})):d("",!0)])),_:3})}}});const z=T({data:()=>({inviter_list:[],is_loadding:!1,hasMore:!0,current_item_index:0,first_loding:!0}),onReachBottom(){this.get_list_data()},async onLoad(){this.first_loding=!0,await this.get_list_data(),setTimeout((()=>{console.log("设置为false"),this.first_loding=!1}),200)},methods:{async get_list_data(){if(this.is_loadding||!this.hasMore)return;this.is_loadding=!0;let e=await uni.vk.userCenter.getInvitedUser({data:{pageIndex:1,pageSize:100}});this.is_loadding=!1,console.log("invite dataRes",e);let{errCode:t,rows:l,hasMore:o}=e;this.hasMore=o,0==t&&0!=l.length&&(this.inviter_list=[...this.inviter_list,...l],this.pageIndex++,console.log("pageIndex",this.pageIndex))}}},[["render",function(t,l,r,n,b,T){const z=g(p("tm-message"),e),j=g(p("tm-skeleton-line"),h),S=g(p("tm-sheet"),k),B=_,C=g(p("tm-text"),w),M=f,I=g(p("tm-result"),v),E=g(p("tm-icon"),x),F=g(p("tm-divider"),y),P=g(p("tm-app"),D);return o(),a(P,null,{default:s((()=>[i(z,{ref:"toast"},null,512),b.first_loding?(o(),c(m,{key:0},u(20,((e,t)=>i(S,{padding:[0,0]},{default:s((()=>[i(j,{height:100})])),_:1}))),64)):(o(),a(M,{key:1},{default:s((()=>[(o(!0),c(m,null,u(b.inviter_list,((e,l)=>(o(),a(S,{round:5,key:l},{default:s((()=>[i(M,{class:"flex flex-row flex-between"},{default:s((()=>[i(M,{class:"flex flex-row flex-start"},{default:s((()=>[i(B,{src:e.avatar||"/static/logo.png",style:{width:"50rpx",height:"50rpx","border-radius":"50rpx"},mode:"aspectFill"},null,8,["src"]),i(C,{"font-size":24,_class:"font-weight-b pl-20",label:e.nickname||"匿名"},null,8,["label"])])),_:2},1024),i(M,{class:"felx flex-row flex-center"},{default:s((()=>[i(C,{"font-size":24,_class:"font-weight-b pl-20",label:"注册时间"}),i(C,{"font-size":24,_class:"font-weight-s pl-20",label:t.vk.pubfn.timeFormat(e.register_date,"yyyy-MM-dd hh:mm:ss"),color:"grey"},null,8,["label"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})),0==b.inviter_list.length?(o(),a(M,{key:2},{default:s((()=>[i(I,{color:"blue",status:"empty",showBtn:!0,title:" ",subTitle:"记录为空",btnText:"刷新",onClick:l[0]||(l[0]=e=>T.get_list_data())})])),_:1})):d("",!0),b.is_loadding?(o(),a(M,{key:3},{default:s((()=>[i(E,{spin:"","font-size":50,name:"tmicon-loading",color:"blue"})])),_:1})):d("",!0),b.hasMore?d("",!0):(o(),a(M,{key:4},{default:s((()=>[i(F,{align:"center",label:"没有更多了"})])),_:1}))])),_:1})}]]);export{z as default};
