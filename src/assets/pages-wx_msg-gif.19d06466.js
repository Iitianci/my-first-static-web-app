import{S as t,R as o,o as e,c as s,w as i,b as a,E as n,e as r,i as l,j as c,h as m,l as h}from"./index-f5cba0e4.js";import{_ as u}from"./tm-button.37a1a22f.js";import{r as d}from"./uni-app.es.62a9cda9.js";import{_}from"./tm-modal.70c18b3d.js";import{_ as p}from"./tm-app.c7c4bc54.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";import"./tm-icon.ed97db34.js";import"./tm-translate.1353da0c.js";import"./tm-text.d010834d.js";import"./tm-overlay.d3e45220.js";import"./useWindowInfo.47d82cea.js";import"./tm-sheet.38d3d718.js";import"./useTheme.d1454919.js";const f=g({data:()=>({vk:uni.vk,msg_info:{},jump_drawer_show:!1,touching:!1,preview_img_show:!1,current_img:""}),computed:{img_style(){let t={filter:"blur(20px)"};return this.touching&&(t={}),t}},onLoad(t={}){let{msg_id:o}=t;o&&this.get_data_by_id(o)},onHide(){},onShareAppMessage(t){},methods:{to_preview_img(){t({urls:[this.current_img]})},save_img(t){this.current_img=t,this.preview_img_show=!0},touchcancel(){this.touching=!1},touchmove(){0==this.touching&&(this.touching=!0)},touchend(){console.log("@touchend"),this.touching=!1},touchstart(){console.log("touchstart"),this.touching=!0},async get_data_by_id(t){let e=await o({url:"https://option.db.apijuhe.cn/findOneById",method:"POST",data:{dbName:"wx_robot",collectionName:"msg_info",dataJson:{_id:t}}});console.log("rq_res",e.data);let{code:s,data:i,msg:a}=e.data;0==s&&(this.msg_info=i)}},watch:{},computed:{}},[["render",function(t,o,g,f,w,x){const v=l,j=c,b=d(m("tm-button"),u),y=h,T=d(m("tm-modal"),_),k=d(m("tm-app"),p);return e(),s(k,null,{default:i((()=>[a(j,{onTouchstart:x.touchstart,onTouchend:x.touchend,onTouchcancel:x.touchcancel,onTouchmove:x.touchmove,onClick:o[0]||(o[0]=t=>x.save_img(w.msg_info.down_url))},{default:i((()=>[a(j,{class:"flex flex-col flex-center",style:n(x.img_style)},{default:i((()=>[a(v,{src:w.msg_info.down_url,style:{width:"600rpx"},mode:"widthFix"},null,8,["src"])])),_:1},8,["style"]),a(j,{class:"flex flex-row flex-center"},{default:i((()=>[a(b,{label:"预览/下载",width:500,round:20})])),_:1})])),_:1},8,["onTouchstart","onTouchend","onTouchcancel","onTouchmove"]),a(T,{color:"white",okColor:"blue",cancelColor:"grey",splitBtn:"",title:"提示",content:"",height:300,okText:"知道了",hideCancel:"",width:600,show:w.preview_img_show,"onUpdate:show":o[1]||(o[1]=t=>w.preview_img_show=t),onOk:x.to_preview_img},{default:i((()=>[a(j,{class:"flex flex-row flex-center"},{default:i((()=>[a(y,{class:"text-weight-b text-black"},{default:i((()=>[r("长按可进行保存图片")])),_:1})])),_:1})])),_:1},8,["show","onOk"])])),_:1})}],["__scopeId","data-v-b35a9fb3"]]);export{f as default};
