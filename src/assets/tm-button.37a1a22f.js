import{q as e,v as n,u as o,x as a,a1 as t,o as r,c as l,w as i,a2 as d,D as u,f as s,e as g,t as p,G as f,E as m,C as c,n as v,av as h}from"./index-f5cba0e4.js";import{_ as y}from"./tm-icon.ed97db34.js";import{c as b,u as C,b as S,t as w,e as z,a as k,d as x}from"./uni-app.es.62a9cda9.js";import{_ as T}from"./_plugin-vue_export-helper.1b428a4d.js";const M=T(e({__name:"tm-button",props:{...b,transprent:{type:Boolean,default:!1},followTheme:{type:Boolean,default:!0},hoverClass:{type:String,default:"opacity-7"},size:{type:String,default:"normal"},fontSize:{type:Number,default:0},fontColor:{type:String,default:""},margin:{type:Array,default:()=>[0,16]},padding:{type:Array,default:()=>[0,0]},noLevel:{type:Boolean,default:!1},shadow:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},block:{type:Boolean,default:!1},round:{type:Number,default:0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},url:{type:String,default:""},label:{type:String,default:""},icon:{type:String,default:""},formType:{type:String,default:""},openType:{type:String,default:""},appParameter:{type:String,default:""},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},sendMessageCard:{type:String,default:""},groupId:{type:String,default:""},guildId:{type:String,default:""},publicId:{type:String,default:""},unit:{type:String,default:"rpx"},darkBgColor:{type:String,default:""},disabledColor:{type:String,default:"grey-1"}},emits:["click","touchstart","touchmove","touchcancel","touchend","tap","longpress","getphonenumber","getUserInfo","getUserProfile","error","opensetting","launchapp","contact","chooseavatar"],setup(e,{emit:b}){var T;const M=e,I=C();n(!1);const B=(null==(T=o())?void 0:T.proxy)??null,$=a((()=>M.formType));let _=null,P=null;if("reset"==$.value||"submit"==$.value)for(_=null==B?void 0:B.$parent;_&&"tmFormId"!=(null==_?void 0:_.tmFormComnameId)&&_;)_=(null==_?void 0:_.$parent)??void 0;if("filterCancel"==$.value||"filterConfirm"==$.value)for(P=null==B?void 0:B.$parent;P&&"FilterMenu"!=(null==P?void 0:P.FilterMenu)&&P;)P=(null==P?void 0:P.$parent)??void 0;const F=a((()=>M.noLevel)),L=a((()=>S(M,D.value)));let A=a((()=>w.isCssColor(K.value)?K.value:M.fontColor?w.getColor(M.fontColor).value:H.value.textColor));const N=a((()=>({...z(M)}))),j=a((()=>k(M))),D=a((()=>I.tmStore)),E=a((()=>{var e,n,o;return M.shadow||((null==(o=null==(n=null==(e=I.tmuiConfig.themeConfig)?void 0:e.component)?void 0:n.button)?void 0:o.shadow)??0)})),H=a((()=>{let e={...M,shadow:E.value};return G.value&&(e.color=M.disabledColor),x({...e},L.value,D.value)})),R=n(!1),U=a((()=>M.loading)),G=a((()=>M.disabled)),q=a((()=>M.label)),J=a((()=>M.icon));a((()=>M.outlined&&0==M.border?1:M.border>0?M.border:0));const O=a((()=>{let e={block:{w:0,h:80,fontSize:28,round:3},mini:{w:88,h:36,fontSize:20,round:3},small:{w:120,h:56,fontSize:22,round:3},normal:{w:220,h:80,fontSize:28,round:3},middle:{w:300,h:80,fontSize:30,round:3},large:{w:375,h:80,fontSize:32,round:3}};if("px"==M.unit){let n="block",o="w";for(n in e)for(o in e[n])e[n][o]=c(e[n][o])}return e})),W=a((()=>{var e,n,o,a,t,r;let l=M.fontSize||0;return M.block?{w:0,h:M.height||O.value.block.h,fontSize:l||O.value.block.fontSize,round:-1==M.round?0:M.round||((null==(o=null==(n=null==(e=I.tmuiConfig.themeConfig)?void 0:e.component)?void 0:n.button)?void 0:o.round)??0)||O.value.normal.round}:{w:M.width||O.value[M.size].w,h:M.height||O.value[M.size].h,fontSize:l||O.value[M.size].fontSize,round:-1==M.round?0:M.round||((null==(r=null==(t=null==(a=I.tmuiConfig.themeConfig)?void 0:a.component)?void 0:t.button)?void 0:r.round)??0)||O.value[M.size].round}})),K=a((()=>M.fontColor)),Q=a((()=>M.transprent)),V=a((()=>1==M.margin.length?[M.margin[0],M.margin[0],M.margin[0],M.margin[0]]:2==M.margin.length?[M.margin[0],M.margin[1],M.margin[0],M.margin[1]]:3==M.margin.length?[M.margin[0],M.margin[1],M.margin[2],0]:4==M.margin.length?[M.margin[0],M.margin[1],M.margin[2],M.margin[3]]:[0,0,0,0])),X=a((()=>1==M.padding.length?[M.padding[0],M.padding[0],M.padding[0],M.padding[0]]:2==M.padding.length?[M.padding[0],M.padding[1],M.padding[0],M.padding[1]]:3==M.padding.length?[M.padding[0],M.padding[1],M.padding[2],0]:4==M.padding.length?[M.padding[0],M.padding[1],M.padding[2],M.padding[3]]:[0,0,0,0])),Y=a((()=>{var e;return!0===Q.value?"background-color:rgba(255,255,255,0);":""!==M.darkBgColor&&!0===L.value?`background-color:${M.darkBgColor};`:2==M.linearColor.length?{"background-image":`linear-gradient(${H.value.linearDirectionStr},${M.linearColor[0]},${M.linearColor[1]})`}:2==(null==(e=H.value.gradientColor)?void 0:e.length)?H.value.backgroundColorCss:F.value&&!0===H.value.isBlackAndWhite&&!0===L.value?`background-color: ${H.value.inputcolor}`:`background-color: ${H.value.backgroundColor}`}));function Z(e){R.value=!0,b("touchstart",e)}function ee(e){R.value=!1,b("touchend",e)}function ne(e){R.value=!1,b("touchcancel",e)}function oe(e){if(null!=_&&void 0!==_&&$.value&&!M.loading&&_[$.value](),null!=P&&void 0!==P&&$.value&&!M.loading&&P[$.value](),!M.loading){if(b("click",e),""!==M.url&&"string"==typeof M.url){let e=M.url;return"/"!==e[0]&&(e="/"+e),void v({url:e})}"getUserInfo"==M.openType||M.openType}}return t("appTextColor",A),(e,n)=>{const o=h;return r(),l(o,{onClick:oe,onTouchstart:Z,onTouchend:ee,onLongpress:n[0]||(n[0]=e=>b("longpress",e)),onTouchcancel:ne,onTouchmove:n[1]||(n[1]=e=>b("touchmove",e)),onGetphonenumber:n[2]||(n[2]=e=>b("getphonenumber",e)),onError:n[3]||(n[3]=e=>b("error",e)),onOpensetting:n[4]||(n[4]=e=>b("opensetting",e)),onLaunchapp:n[5]||(n[5]=e=>b("launchapp",e)),onContact:n[6]||(n[6]=e=>b("contact",e)),onChooseavatar:n[7]||(n[7]=e=>b("chooseavatar",e)),"form-type":M.formType,openType:M.openType,appParameter:M.appParameter,sessionFrom:M.sessionFrom,sendMessageTitle:M.sendMessageTitle,sendMessagePath:M.sendMessagePath,sendMessageImg:M.sendMessageImg,sendMessageCard:M.sendMessageCard,loading:u(U),disabled:u(G),"group-id":M.groupId,"guild-id":M.guildId,"public-id":M.publicId,"hover-start-time":1e7,"hover-stop-propagation":"",class:f(["button alipay flex flex-row flex-row-center-center",!R.value||u(G)||u(U)?"":M.hoverClass+" bhover",u(G)||u(U)?"":"webpc",u(U)||u(G)?"opacity-8":"",e.isDisabledRoundAndriod?"":`round-${u(W).round}`,u(j)]),style:m([{marginLeft:u(V)[0]+"rpx",marginTop:u(V)[1]+"rpx",marginRight:u(V)[2]+"rpx",marginBottom:u(V)[3]+"rpx",paddingLeft:u(X)[0]+"rpx",paddingTop:u(X)[1]+"rpx",paddingRight:u(X)[2]+"rpx",paddingBottom:u(X)[3]+"rpx"},{height:u(W).h+M.unit,fontSize:u(W).fontSize+M.unit,color:u(A),lineHeight:u(W).h+M.unit},u(W).w&&!M.block?{width:u(W).w+M.unit}:"",u(H).borderCss,u(Y),!u(Q)&&u(E)>0&&!M.text?u(H).shadowColor:"",u(N)])},{default:i((()=>[d(e.$slots,"default",{},(()=>[u(J)&&!u(U)?(r(),l(y,{key:0,lineHeight:.9*u(W).fontSize,userInteractionEnabled:!1,color:u(K),_class:u(q)?"pr-10":"",unit:M.unit,fontSize:.9*u(W).fontSize,name:u(J)},null,8,["lineHeight","color","_class","unit","fontSize","name"])):s("",!0),g(" "+p(u(q)),1)]),!0)])),_:3},8,["form-type","openType","appParameter","sessionFrom","sendMessageTitle","sendMessagePath","sendMessageImg","sendMessageCard","loading","disabled","group-id","guild-id","public-id","class","style"])}}}),[["__scopeId","data-v-2829844a"]]);export{M as _};
