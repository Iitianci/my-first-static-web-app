import{q as e,u as t,v as l,x as r,y as i,z as o,A as s,B as a,C as c,o as n,c as u,w as _,b as d,D as f,E as h,f as x,d as m,F as p,r as g,G as w,H as y,J as v,K as k,j as b,L as C,M as z,N as q,O as F,g as V,a as j,s as S,P as I,Q as D,R as $,S as H,n as L,T as N,e as W,t as G,l as P,i as T,h as A,U as M,V as R}from"./index-f5cba0e4.js";import{_ as U}from"./tm-tag.vue_vue_type_script_setup_true_lang.4df7467e.js";import{c as B,r as O}from"./uni-app.es.62a9cda9.js";import{_ as J}from"./tm-sheet.38d3d718.js";import{t as Q}from"./tm-text.d010834d.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as K}from"./tm-button.37a1a22f.js";import{_ as X}from"./tm-divider.vue_vue_type_script_setup_true_lang.9ff71b57.js";import{_ as Y}from"./tm-input.4c1b57bc.js";import{_ as Z}from"./tm-app.c7c4bc54.js";import{a as ee}from"./api.f04a1197.js";import{c as te,a as le,b as re}from"./check_user_info.62ff098e.js";import"./tm-icon.ed97db34.js";import"./tm-translate.1353da0c.js";import"./useTheme.d1454919.js";import"./useWindowInfo.47d82cea.js";const ie=E(e({__name:"tm-segtab",props:{...B,round:{type:Number,default:2},width:{type:Number,default:600},height:{type:Number,default:64},gutter:{type:Number,default:4},list:{type:Array,default:()=>[],required:!0},modelValue:{type:[Number,String],default:0},defaultValue:{type:[Number,String],default:0},beforeChange:{type:[Function,Boolean],default:()=>!1},color:{type:String,default:"white"},bgColor:{type:String,default:"grey-3"},fontSize:{type:Number,default:24},activeColor:{type:String,default:"primary"}},emits:["update:modelValue","change","click"],setup(e,{emit:C}){var z;const q=e,F=(null==(z=t())?void 0:z.proxy)??null,V=l(-100),j=l(0);let S=uni.$tm.u.getUid();const I=r((()=>{let e=[];for(let t=0,l=q.list.length;t<l;t++){let l={text:"",id:t},r=q.list[t];"string"==typeof r||"number"==typeof r?l.text=r:"object"==typeof r&&(l.text=(null==r?void 0:r.text)??"",void 0!==(null==r?void 0:r.id)&&(l.id=r.id)),e.push(l)}return e}));l(!0);const D=l(q.defaultValue??0);D.value;const $=r((()=>{let e=q.width-q.gutter,t="";return t=`calc(100% - ${2*q.gutter}rpx)`,{outerWidth:q.width,outerHeight:q.height,innerWidth:e,innerHeight:q.height-2*q.gutter,innerHieghtWeb:t,gutterpx:(c(q.height)-c(q.height-2*q.gutter))/2}}));function H(){let e=I.value.findIndex((e=>e.id===D.value));clearTimeout(S);let t=150;t=50,S=setTimeout((()=>{s((()=>L(e)))}),50)}function L(e){a().in(F).select(".tm-segtab").boundingClientRect((t=>{let l=(null==t?void 0:t.left)??0;a().in(F).select(".tab"+e).boundingClientRect((e=>{e&&(V.value=((null==e?void 0:e.left)??0)-c(q.gutter)-l,j.value=((null==e?void 0:e.width)??0)+ +c(q.gutter))})).exec()})).exec()}return i([D,()=>q.modelValue,()=>q.list],(()=>{H()}),{deep:!0}),o((()=>{H()})),(e,t)=>{const l=b;return n(),u(l,{class:w(["tm-segtab relative flex flex-col",[`round-${q.round}`]]),ref:"tm-segtab",style:h({width:f($).outerWidth+"rpx",height:f($).outerHeight+"rpx"})},{default:_((()=>[d(J,{round:q.round,linear:q.linear,"linear-deep":q.linearDeep,"no-level":!0,color:q.bgColor,darkBgColor:"rgba(255,255,255,0.06)",height:f($).outerHeight,_class:"flex-row relative overflow flex-1",class:"flex-1",padding:[0],margin:[0],border:0},{default:_((()=>[""!==D.value?(n(),u(l,{key:0,class:"absloute flex flex-row bgbtnpos tm-segtab relative",style:h([{transform:"translateX("+(V.value+f($).gutterpx)+"px)",width:j.value+"px",height:f($).innerHieghtWeb,top:`${q.gutter}rpx`,left:"0px"}])},{default:_((()=>[d(J,{"follow-dark":q.followDark,round:q.round,class:"flex-1 flex flex-row",parenClass:"flex-1",_class:"flex-1 flex flex-row",color:q.color,margin:[0,0],padding:[0,0],border:0},null,8,["follow-dark","round","color"])])),_:1},8,["style"])):x("",!0),d(l,{class:"absolute flex flex-row flex-row-center-start tm-segtab",style:h({width:`${f($).innerWidth}rpx`,height:f($).innerHeight+"rpx",padding:`${q.gutter}rpx`,top:q.gutter+"rpx"})},{default:_((()=>[(n(!0),m(p,null,g(f(I),((e,t)=>(n(),u(l,{onClick:l=>async function(e,t){if(C("click",e),"function"==typeof q.beforeChange){y({title:"...",mask:!0});let t=await q.beforeChange(e);if("function"==typeof t&&(t=await t(e)),v(),!t)return}D.value!==t&&(D.value=t,L(e),C("change",D.value,k(I.value[e])),C("update:modelValue",D.value))}(t,e.id),ref_for:!0,ref:"tab_",class:w([["tab"+t],"flex flex-row flex-row-center-center px-16 nowrap flex-1"]),style:h({margin:`${q.gutter}rpx 0`}),key:t},{default:_((()=>[d(Q,{_style:"transition: color 0.3s;",color:e.id===D.value?q.activeColor:"",lineHeight:0,"font-size":q.fontSize,userInteractionEnabled:!1,label:e.text},null,8,["color","font-size","label"])])),_:2},1032,["onClick","class","style"])))),128))])),_:1},8,["style"])])),_:1},8,["round","linear","linear-deep","color","height"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-5cd003e8"]]),oe={baseColor:"#fff",backgroundImage:null,backgroundColor:null,size:300,border:.05,str:"tmui",forgroundColor:"#000",logoImage:null,logoWidth:20,logoHeight:20,ecc:"M",linearDir:"tlbr"};var se=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],ae=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],ce={L:1,M:2,Q:3,H:4},ne=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],ue=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],_e=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],de=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177];async function fe(e,t,l){if(e){var r,i,o,s,a,c,n,u=Object.assign({...oe},t),_=u.size,d=_*u.border,f=_-2*d,h=u.backgroundColor,x=u.backgroundImage,m=u.logoImage,p=u.linearDir,g=e;for((null==g?void 0:g.width)||(g.width=_),(null==g?void 0:g.height)||(g.height=_),he(g,u.baseColor,p),g.fillRect(0,0,_,_),g.save(),h&&(he(g,h,p),g.fillRect(0,0,_,_)),g.restore(),x&&(l?await xe(l,g,{width:_,height:_,src:x,x:0,y:0}):g.drawImage(x,0,0,_,_)),a=function(e,t){var l,r,i,o,s,a,c,n,u,_,d,f,h,x,m=ce[t||"L"]||1,p=e||"",g=[],w=[],y=[],v=[],k=[],b=[];function C(e,t){var l,r=e,i=t;r>i&&(l=r,r=i,i=l),l=i,l*=i,l+=i,l>>=1,v[l+=r]=1}function z(e,t){var l,r=e,i=t;for(y[r+_*i]=1,l=-2;l<2;l++)y[r+l+_*(i-2)]=1,y[r-2+_*(i+l+1)]=1,y[r+2+_*(i+l)]=1,y[r+l+1+_*(i+2)]=1;for(l=0;l<2;l++)C(r-1,i+l),C(r+1,i-l),C(r-l,i-1),C(r+l,i+1)}function q(e){for(var t=e;t>=255;)t=((t-=255)>>8)+(255&t);return t}function F(e,t,l,r){var i,o,s,a=e,c=t,n=l,u=r;for(o=0;o<u;o++)b[n+o]=0;for(o=0;o<c;o++){if(255!==(i=_e[b[a+o]^b[n]]))for(s=1;s<u;s++)b[n+s-1]=b[n+s]^ue[q(i+k[u-s])];else for(s=n;s<n+u;s++)b[s]=b[s+1];b[n+u-1]=255===i?0:ue[q(i+k[0])]}}function V(e,t){var l,r=e,i=t;return r>i&&(l=r,r=i,i=l),l=i,l+=i*i,l>>=1,1===v[l+=r]}function j(e){var t,l,r,i,o=e;if(0===o)for(l=0;l<_;l++)for(t=0;t<_;t++)t+l&1||V(t,l)||(y[t+l*_]^=1);if(1===o)for(l=0;l<_;l++)for(t=0;t<_;t++)1&l||V(t,l)||(y[t+l*_]^=1);if(2===o)for(l=0;l<_;l++)for(r=0,t=0;t<_;t++,r++)3===r&&(r=0),r||V(t,l)||(y[t+l*_]^=1);if(3===o)for(i=0,l=0;l<_;l++,i++)for(3===i&&(i=0),r=i,t=0;t<_;t++,r++)3===r&&(r=0),r||V(t,l)||(y[t+l*_]^=1);if(4===o)for(l=0;l<_;l++)for(r=0,i=l>>1&1,t=0;t<_;t++,r++)3===r&&(r=0,i=!i),i||V(t,l)||(y[t+l*_]^=1);if(5===o)for(i=0,l=0;l<_;l++,i++)for(3===i&&(i=0),r=0,t=0;t<_;t++,r++)3===r&&(r=0),(t&l&1)+!(!r|!i)||V(t,l)||(y[t+l*_]^=1);if(6===o)for(i=0,l=0;l<_;l++,i++)for(3===i&&(i=0),r=0,t=0;t<_;t++,r++)3===r&&(r=0),(t&l&1)+(r&&r===i)&1||V(t,l)||(y[t+l*_]^=1);if(7===o)for(i=0,l=0;l<_;l++,i++)for(3===i&&(i=0),r=0,t=0;t<_;t++,r++)3===r&&(r=0),(r&&r===i)+(t+l&1)&1||V(t,l)||(y[t+l*_]^=1)}function S(e){var t,l=0,r=e;for(t=0;t<=r;t++)g[t]>=5&&(l+=3+g[t]-5);for(t=3;t<r-1;t+=2)g[t-2]===g[t+2]&&g[t+2]===g[t-1]&&g[t-1]===g[t+1]&&3*g[t-1]===g[t]&&(0===g[t-3]||t+3>r||3*g[t-3]>=4*g[t]||3*g[t+3]>=4*g[t])&&(l+=40);return l}function I(){var e,t,l,r,i,o,s,a,c;for(l=i=o=0,c=0;c<_-1;c++)for(a=0;a<_-1;a++)(y[a+_*c]&&y[a+1+_*c]&&y[a+_*(c+1)]&&y[a+1+_*(c+1)]||!(y[a+_*c]||y[a+1+_*c]||y[a+_*(c+1)]||y[a+1+_*(c+1)]))&&(l+=3);for(c=0;c<_;c++){for(g[0]=0,s=e=a=0;a<_;a++)(t=y[a+_*c])===e?g[s]++:g[++s]=1,i+=(e=t)?1:-1;l+=S(s)}for(i<0&&(i=-i),r=i,r+=r<<2,r<<=1;r>_*_;)r-=_*_,o++;for(l+=10*o,a=0;a<_;a++){for(g[0]=0,s=e=c=0;c<_;c++)(t=y[a+_*c])===e?g[s]++:g[++s]=1,e=t;l+=S(s)}return l}s=(p=function(e){var t,l,r,i;for(t="",r=e.length,l=0;l<r;l++)(i=e.charCodeAt(l))>=1&&i<=127?t+=e.charAt(l):i>2047?(t+=String.fromCharCode(224|i>>12&15),t+=String.fromCharCode(128|i>>6&63),t+=String.fromCharCode(128|i>>0&63)):(t+=String.fromCharCode(192|i>>6&31),t+=String.fromCharCode(128|i>>0&63));return t}(p)).length,u=0;do{if(i=4*(m-1)+16*(++u-1),h=ae[i++],x=ae[i++],d=ae[i++],f=ae[i],s<=(i=d*(h+x)+x-3+(u<=9)))break}while(u<40);for(_=17+4*u,a=d+(d+f)*(h+x)+x,s=0;s<a;s++)w[s]=0;for(b=p.slice(0),s=0;s<_*_;s++)y[s]=0;for(s=0;s<(_*(_+1)+1)/2;s++)v[s]=0;for(s=0;s<3;s++){for(i=n=0,1===s&&(i=_-7),2===s&&(n=_-7),y[n+3+_*(i+3)]=1,c=0;c<6;c++)y[n+c+_*i]=1,y[n+_*(i+c+1)]=1,y[n+6+_*(i+c)]=1,y[n+c+1+_*(i+6)]=1;for(c=1;c<5;c++)C(n+c,i+1),C(n+1,i+c+1),C(n+5,i+c),C(n+c+1,i+5);for(c=2;c<4;c++)y[n+c+_*(i+2)]=1,y[n+2+_*(i+c+1)]=1,y[n+4+_*(i+c)]=1,y[n+c+1+_*(i+4)]=1}if(u>1)for(s=se[u],n=_-7;;){for(c=_-7;c>s-3&&(z(c,n),!(c<s));)c-=s;if(n<=s+9)break;z(6,n-=s),z(n,6)}for(y[8+_*(_-8)]=1,n=0;n<7;n++)C(7,n),C(_-8,n),C(7,n+_-7);for(c=0;c<8;c++)C(c,7),C(c+_-8,7),C(c,_-8);for(c=0;c<9;c++)C(c,8);for(c=0;c<8;c++)C(c+_-8,8),C(8,c);for(n=0;n<7;n++)C(8,n+_-7);for(c=0;c<_-14;c++)1&c?(C(8+c,6),C(6,8+c)):(y[8+c+6*_]=1,y[6+_*(8+c)]=1);if(u>6)for(s=de[u-7],i=17,c=0;c<6;c++)for(n=0;n<3;n++,i--)1&(i>11?u>>i-12:s>>i)?(y[5-c+_*(2-n+_-11)]=1,y[2-n+_-11+_*(5-c)]=1):(C(5-c,2-n+_-11),C(2-n+_-11,5-c));for(n=0;n<_;n++)for(c=0;c<=n;c++)y[c+_*n]&&C(c,n);for(a=b.length,l=0;l<a;l++)w[l]=b.charCodeAt(l);if(b=w.slice(0),a>=(c=d*(h+x)+x)-2&&(a=c-2,u>9&&a--),l=a,u>9){for(b[l+2]=0,b[l+3]=0;l--;)s=b[l],b[l+3]|=255&s<<4,b[l+2]=s>>4;b[2]|=255&a<<4,b[1]=a>>4,b[0]=64|a>>12}else{for(b[l+1]=0,b[l+2]=0;l--;)s=b[l],b[l+2]|=255&s<<4,b[l+1]=s>>4;b[1]|=255&a<<4,b[0]=64|a>>4}for(l=a+3-(u<10);l<c;)b[l++]=236,b[l++]=17;for(k[0]=1,l=0;l<f;l++){for(k[l+1]=1,r=l;r>0;r--)k[r]=k[r]?k[r-1]^ue[q(_e[k[r]]+l)]:k[r-1];k[0]=ue[q(_e[k[0]]+l)]}for(l=0;l<=f;l++)k[l]=_e[k[l]];for(i=c,n=0,l=0;l<h;l++)F(n,d,i,f),n+=d,i+=f;for(l=0;l<x;l++)F(n,d+1,i,f),n+=d+1,i+=f;for(n=0,l=0;l<d;l++){for(r=0;r<h;r++)w[n++]=b[l+r*d];for(r=0;r<x;r++)w[n++]=b[h*d+l+r*(d+1)]}for(r=0;r<x;r++)w[n++]=b[h*d+l+r*(d+1)];for(l=0;l<f;l++)for(r=0;r<h+x;r++)w[n++]=b[c+l+r*f];for(b=w,c=n=_-1,i=a=1,o=(d+f)*(h+x)+x,l=0;l<o;l++)for(s=b[l],r=0;r<8;r++,s<<=1){128&s&&(y[c+_*n]=1);do{a?c--:(c++,i?0!==n?n--:(i=!i,6==(c-=2)&&(c--,n=9)):n!==_-1?n++:(i=!i,6==(c-=2)&&(c--,n-=8))),a=!a}while(V(c,n))}for(b=y.slice(0),s=0,n=3e4,i=0;i<8&&(j(i),(c=I())<n&&(n=c,s=i),7!==s);i++)y=b.slice(0);for(s!==i&&j(s),n=ne[s+(m-1<<3)],i=0;i<8;i++,n>>=1)1&n&&(y[_-1-i+8*_]=1,i<6?y[8+_*i]=1:y[8+_*(i+1)]=1);for(i=0;i<7;i++,n>>=1)1&n&&(y[8+_*(_-7+i)]=1,i?y[6-i+8*_]=1:y[7+8*_]=1);return{frameBuffer:y,width:_}}(u.str,u.ecc),o=a.frameBuffer,c=f/(s=a.width),he(g,u.forgroundColor,p),r=0;r<s;r++)for(i=0;i<s;i++)o[i*s+r]&&g.fillRect(d+c*r,d+c*i,c,c);return m&&(n=function(e,t,l){return{x:(e-t)/2,y:(e-l)/2,w:t,h:l}}(_,u.logoWidth,u.logoHeight),l?await xe(l,g,{width:u.logoWidth,height:u.logoHeight,src:m,x:n.x,y:n.y}):g.drawImage(m,n.x,n.y,u.logoWidth,u.logoHeight)),l||g.draw(),v(),e}}function he(e,t,l="left"){if("object"==typeof t&&Array.isArray(t)){let i=parseInt(String(e.width/2));console.log(i);var r=e.createLinearGradient(i,0,i,e.width);"left"==l?r=e.createLinearGradient(e.width,i,0,i):"bottom"==l?r=e.createLinearGradient(i,0,i,e.width):"top"==l?r=e.createLinearGradient(i,e.width,i,0):"right"==l?r=e.createLinearGradient(0,i,e.width,i):"tlbr"==l?r=e.createLinearGradient(0,0,e.width,e.width):"trbl"==l?r=e.createLinearGradient(e.width,0,0,e.width):"bltr"==l?r=e.createLinearGradient(0,e.width,e.width,0):"brtl"==l&&(r=e.createLinearGradient(e.width,e.width,0,0));for(let e=0,l=t.length;e<l;e++){let i=e/l;0==e&&(i=0),e==l-1&&(i=1),r.addColorStop(i,t[e])}console.log(r),e.setStrokeStyle(r),e.setFillStyle(r)}else e.setFillStyle(t)}function xe(e,t,l){y({title:"..."});let r=e.createImage();return r.width=l.width,r.height=l.height,r.src=l.src,new Promise((e=>{r.onload=function(){t.drawImage(r,l.x,l.y,l.width,l.height),v(),e(!0)}}))}const me=e({__name:"tm-qrcode",props:{option:{type:Object,default:()=>oe}},setup(e,{expose:a}){var x;const m=e,p=(null==(x=t())?void 0:x.proxy)??null,g=l("canvasId");let w,y;g.value="tm"+uni.$tm.u.getUid(5);let v=r((()=>({...oe,...m.option})));const k=r((()=>v.value.size)),V=r((()=>v.value.size));return l(!1),o((()=>{s((async function(){new Promise(((e,t)=>{setTimeout((async function(){w=await Promise.resolve(C(g.value,p)),e(!0)}),150)})).then((()=>fe(w,{...v.value,size:c(k.value)},y)))}))})),i((()=>m.option),(()=>{w&&fe(w,{...v.value,size:c(k.value)},y)}),{deep:!0}),a({save:function(){return new Promise(((e,t)=>{if(!w)return z({title:"初始化失败",icon:"none"}),void t("初始化失败");let l=m.option.size??0;q({x:0,y:0,width:c(l),height:c(l),canvasId:g.value,canvas:y,success:function(t){e(t.tempFilePath)},fail:e=>{console.error(e),t(e)}})}))}}),(e,t)=>{const l=F,r=b;return n(),u(r,{style:h({width:`${f(k)}rpx`,height:`${f(V)}rpx`})},{default:_((()=>[d(l,{id:g.value,"canvas-id":g.value,class:"canvas",style:h({width:`${f(k)}rpx`,height:`${f(V)}rpx`})},null,8,["id","canvas-id","style"])])),_:1},8,["style"])}}});let pe={},ge={};const we=E({mixins:[te,le,re],data:()=>({token:"",cookies:"",openid:"",search_key:"",img_list:[],current_index:0,current_item:{type_text:""},msg_list:[],short_url:"",qr_cfig:{baseColor:"#FFFFFF",forgroundColor:"#000000",str:"https://www.baidu.com"},current_choose_id:"",current_recommend_id:"sticker",recommend_tools_list:[{text:"表情包",id:"sticker",item_list:[],pageIndex:1},{text:"头像",id:"avatar",item_list:[],pageIndex:1},{text:"壁纸",id:"wallpaper",item_list:[],pageIndex:1}],shortVideo_tools_list:[{text:"无水印视频",id:"video_url"},{text:"无水印封面",id:"cover_url"},{text:"背景音乐",id:"music_url"}],office_tools_list:[{text:"所有图片",id:"img_list"},{text:"提取大封面",id:"msg_cdn_url"},{text:"提取小封面",id:"cdn_url_1_1"}],sph_tools_list:[{text:"提取视频",id:"video_url"},{text:"提取小封面",id:"cover_url"},{text:"提取大封面",id:"full_cover_url"}],mp_app_tools_list:[{text:"提取短链接",id:"short_url"},{text:"提取小程序码",id:"mpapp_qr"},{text:"提取二维码",id:"url_qr"},{text:"提取头像",id:"down_avatar"}]}),async onLoad(e={}){console.log("options",e),this.img_list=V("img_list")||[],(null==e?void 0:e.extraData)&&(ge=JSON.parse(decodeURIComponent(null==e?void 0:e.extraData)),console.log("extraData0----",ge),j("extraData",ge||{}),j("need_check_ad_review",ge.need_check_ad_review||!1),this.current_item=ge.item,this.openid=ge.openid,this.current_index=ge.index||0,console.log("this.current_item",this.current_item),this.current_choose_id=this.current_item.type_text||"","office_sticker"==this.current_item.type_text&&(null==ge?void 0:ge.openid)?await this.get_user_sticker(this.openid):"qq_sticker"==this.current_item.type_text?await this.get_qq_sticker(this.current_item):"mp_app"==this.current_item.type_text?(this.current_choose_id=this.mp_app_tools_list[0].id,this.short_url="https://wxrobot.apijuhe.cn?wxjc="+this.current_item.code,this.qr_cfig.str=this.short_url):"shipinghao"==this.current_item.type_text?this.current_choose_id=this.sph_tools_list[0].id:"wx_sticker"==this.current_item.type_text?this.current_choose_id="wx_sticker":"office_article"==this.current_item.type_text?this.current_choose_id=this.office_tools_list[0].id:"office_url"==this.current_item.type_text?(console.log("是公众号链接"),this.current_choose_id=this.office_tools_list[0].id,await this.analyze_office(this.current_item.office_url)):"short_video"==this.current_item.type_text?("1"==this.current_item.type?(this.shortVideo_tools_list[0].text="无水印视频",this.shortVideo_tools_list[0].id="video_url"):(this.shortVideo_tools_list[0].text="无水印图集",this.shortVideo_tools_list[0].id="pics"),this.current_choose_id=this.shortVideo_tools_list[0].id):console.log("尚未处理的其他类型"));for(let t=0;t<this.recommend_tools_list.length;t++){let e=this.recommend_tools_list[t].id,l=V(e+"_data_list");uni.vk.pubfn.isNull(l)?this.get_recommend_data(e):this.recommend_tools_list[t].item_list=l}},methods:{async analyze_office(e){console.log("分析公众号");let t=await uni.vk.callFunction({url:"client/office/pub/analyze",title:"请求中...",data:{office_url:e},env:"api"});if(0==t.code){let{msg_cdn_url:e,msg_title:l,cdn_url_1_1:r,img_list:i}=t;this.current_item.msg_cdn_url=e,this.current_item.msg_title=l,this.current_item.cdn_url_1_1=r,this.current_item.img_list=i}},to_mini(e,t,l){console.log("跳转小程序"),S({title:"提示",content:"图片已准备好,请前往领取",showCancel:!1,success:t=>{var r;if(t.confirm){let t="",i="develop";console.log(" this.current_choose_id",this.current_choose_id);let o={in_time:I((new Date).getTime()),cookies:this.cookies,token:this.token,imgUrl:l,msgid:null==(r=this.msg_list[this.current_index])?void 0:r.id,img_type:this.current_choose_id};console.log("跳转小程序 extraData=",o),uni.navigateToMiniProgram({appId:e,path:t,envVersion:i,extraData:o,success:e=>{console.log("跳转res:",e,"extraData",this.extraData)}})}}})},async get_qq_sticker(e){let t=await uni.vk.callFunction({url:"client/qq_msg/pub/get_qq_sticker",title:"请求中...",data:{dataJson:e},env:"qq-robot"});if(0==t.code){let{total:e,rows:l}=t;for(let t=0;t<l.length;t++)console.log("rows[i].attachments[0]",l[t].attachments[0].url),this.img_list[t]="https://"+l[t].attachments[0].url}},async get_user_sticker(e){let t=await uni.vk.callFunction({url:"client/office/pub/get_user_sticker",title:"请求中...",data:{openid:e}});if(0==t.code){let{token:e,cookies:l,msg_list:r}=t.data;this.token=e,this.cookies=l,this.msg_list=r;for(let t=0;t<r.length;t++){let e=`https://mp.weixin.qq.com/cgi-bin/downloadfile?msgid=${r[t].id}&token=${this.token}&lang=zh_CN`;D({url:e,header:{Cookie:this.cookies,"Content-Type":"image/jpeg"},success:e=>{200===e.statusCode?this.img_list[t]=e.tempFilePath:this.img_list[t]=""},fail:e=>{console.log("err",e)},complete:e=>{}})}}},async get_user_sticker2(e){let t=await $({url:"https://ck.office.apijuhe.cn/get_user_sticker",data:{openid:e}});console.log("rq_res",t);let{code:l,msg_list:r}=t.data;if(0==l){this.msg_list=r;for(let e=0;e<r.length;e++){let t=`https://mp.weixin.qq.com/cgi-bin/downloadfile?msgid=${r[e].id}&token=${this.token}&lang=zh_CN`;D({url:t,header:{Cookie:this.cookies,"Content-Type":"image/jpeg"},success:t=>{200===t.statusCode?this.img_list[e]=t.tempFilePath:this.img_list[e]=""},fail:e=>{console.log("err",e)},complete:e=>{}})}}else uni.vk.alert("请求出错了")},async get_ck(){let e=await $({url:"https://ck.office.apijuhe.cn/get_ck",data:{}});console.log("rq_res",e);let{code:t,token:l,cookies:r}=e.data;0==t?(this.token=l,this.cookies=r):uni.vk.alert("请求出错了")},to_add_office(){let e=V("wx_config");console.log("wx_config",e),e.office_qr_url&&H({urls:[e.office_qr_url],current:e.office_qr_url})},to_search(e){console.log("搜索",e),L({url:`/pages/search/search?search_key=${e}&search_type=`+this.current_recommend_id})},async get_recommend_data(e="sticker",t={},l=20){let r=await ee(e,{},l);if(0==r.code){let t=[];for(let e=0;e<r.data.length;e++)t.push(r.data[e].cloud_url);j(e+"_data_list",t);let l=this.recommend_tools_list.findIndex((t=>t.id===e));this.recommend_tools_list[l].item_list=[...this.recommend_tools_list[l].item_list,...t]}},to_preview_video(e,t){wx.previewMedia({sources:[{url:e,type:"video",poster:""}],success:e=>{console.log("res",e)}})},to_save(){var e,t;console.log("this.current_choose_id",this.current_choose_id);let l="",r="";if("short_url"!=this.current_choose_id){if("mpapp_qr"==this.current_choose_id)l=this.current_item.mpapp_qr_url;else if("url_qr"==this.current_choose_id)this.$refs.qrcode.save().then((e=>{console.log(e)}));else if("down_avatar"==this.current_choose_id)l=this.current_item.weappiconurl;else if("video_url"==this.current_choose_id)r=this.current_item.video_url,l=this.current_item.cover_url;else if("cover_url"==this.current_choose_id)l=this.current_item.cover_url;else if("full_cover_url"==this.current_choose_id)l=this.current_item.full_cover_url;else if("wx_sticker"==this.current_choose_id)l=this.current_item.img_url;else if("msg_cdn_url"==this.current_choose_id)l=this.current_item.msg_cdn_url;else if("share_cover"==this.current_choose_id)l=this.current_item.share_cover;else if("cdn_url_1_1"==this.current_choose_id)l=this.current_item.cdn_url_1_1;else{if("pics"==this.current_choose_id)return void this.to_down_img(this.current_index,null==(e=this.current_item)?void 0:e.pics[0],null==(t=this.current_item)?void 0:t.pics);"music_url"==this.current_choose_id?(console.log("music",this.current_item.music_url),this.copy_data(this.current_item.music_url)):("sticker"==this.current_choose_id||"avatar"==this.current_choose_id||"gallery"==this.current_choose_id||"wallpaper"==this.current_choose_id||"office_sticker"==this.current_choose_id||"kouling"==this.current_choose_id||this.current_choose_id,this.to_down_img(this.current_index,this.img_list[this.current_index],this.img_list))}r&&l?S({title:"提示",showCancel:!1,content:"注意:一定要点击视频播放之后,长按视频可保存视频到本地",success:e=>{e.confirm&&this.to_preview_video(r,l)}}):l&&this.to_down_img(this.current_index,l,[l])}else this.copy_data(this.short_url)},async to_down_img(e,t,l){this.current_index=e;let r=await this.to_check_ad(pe,"下载",9e4);console.log("can_get_reward----------",r)},copy_share_info(){let{title:e,username:t,pagepath:l,shareId:r}=this.current_item,i={title:e,username:t,pagepath:l,shareId:r};this.copy_data(JSON.stringify(i))},copy_data(e){e?N({data:e,success:function(){uni.vk.alert("复制成功")}}):uni.vk.alert("暂无可复制的内容")},change_tools(e){console.log("e",e),this.current_choose_id=e}}},[["render",function(e,t,l,r,i,o){const s=P,a=b,c=T,f=O(A("tm-tag"),U),h=O(A("tm-segtab"),ie),w=O(A("tm-button"),K),y=O(A("tm-qrcode"),me),v=M,k=O(A("tm-divider"),X),C=O(A("tm-input"),Y),z=R,q=O(A("tm-app"),Z);return n(),u(q,null,{default:_((()=>[i.openid&&e.overdue?(n(),u(a,{key:0},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-weight-b text-red text-align-center text-size-xl"},{default:_((()=>[W("你的发送的素材已过期,请重新发送")])),_:1})])),_:1})])),_:1})):(n(),u(a,{key:1,class:"ma-20 pa-20 shadow-10 round-10 white"},{default:_((()=>["sticker"==i.current_item.type_text||"avatar"==i.current_item.type_text||"wallpaper"==i.current_item.type_text||"gallery"==i.current_item.type_text||"kouling"==i.current_item.type_text||"other"==i.current_item.type_text?(n(),u(a,{key:0},{default:_((()=>[(n(!0),m(p,null,g(i.img_list,((e,t)=>(n(),u(a,{key:t,class:"flex flex-col flex-center"},{default:_((()=>[d(c,{src:e,style:{width:"600rpx"},mode:"widthFix",onClick:l=>o.to_down_img(t,e,i.img_list)},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1})):x("",!0),"office_article"==i.current_item.type_text||"office_url"==i.current_item.type_text?(n(),u(a,{key:1},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(a,null,{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(c,{src:i.current_item.msg_cdn_url,style:{width:"720rpx",height:"200rpx"},mode:"widthFix"},null,8,["src"])])),_:1}),d(a,{class:"ma-20"},{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-weixin",color:"green",size:"m",label:"公众号"}),d(s,{class:"text-weight-s text-size-xs ma-20 text-overflow-3"},{default:_((()=>[W(G(i.current_item.msg_title),1)])),_:1})])),_:1})])),_:1})])),_:1}),d(a,{class:"flex flex-col",style:{"margin-top":"100rpx"}},{default:_((()=>[d(h,{round:24,width:666,bgColor:"primary",followDark:!1,color:"white",activeColor:"primary",list:i.office_tools_list,defaultValue:i.current_choose_id,onChange:o.change_tools},null,8,["list","defaultValue","onChange"]),d(a,{class:"shadow-10 white pa-10 ma-10"},{default:_((()=>["img_list"==i.current_choose_id?(n(),u(a,{key:0},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 可下载文章内所有图片 ")])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-around flex-wrap flex-shrink"},{default:_((()=>[(n(!0),m(p,null,g(i.current_item.img_list,((e,t)=>(n(),u(a,null,{default:_((()=>[d(c,{src:e,style:{width:"200rpx"},mode:"widthFix",onClick:l=>o.to_down_img(t,e,i.current_item.img_list)},null,8,["src","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):x("",!0),"msg_cdn_url"==i.current_choose_id?(n(),u(a,{key:1},{default:_((()=>[d(s,{class:"text-size-xs"},{default:_((()=>[W(" 提取视频大封面到本地 ")])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(c,{src:i.current_item.msg_cdn_url,style:{width:"720rpx"},mode:"widthFix"},null,8,["src"])])),_:1})])),_:1})):x("",!0),"share_cover"==i.current_choose_id?(n(),u(a,{key:2},{default:_((()=>[d(s,{class:"text-size-xs"},{default:_((()=>[W(" 提取视频小封面到本地 ")])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(c,{src:i.current_item.cdn_url_1_1,style:{width:"300rpx",height:"300rpx"},mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1})):x("",!0)])),_:1})])),_:1})])),_:1})):x("",!0),"mp_app"==i.current_item.type_text?(n(),u(a,{key:2},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(a,null,{default:_((()=>[d(c,{src:i.current_item.weappiconurl,style:{width:"200rpx",height:"200rpx"},mode:"aspectFill"},null,8,["src"]),d(a,null,{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-xiaochengxu\r\nt",color:"purple",size:"m",label:"小程序"})])),_:1})])),_:1}),d(a,{class:"ma-10",style:{width:"400rpx"}},{default:_((()=>[d(a,null,{default:_((()=>[d(a,{class:"flex flex-row flex-start-center"},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs pa-5 shadow-5 white round-20",style:{width:"100rpx"}},{default:_((()=>[W("昵称:")])),_:1}),d(s,{class:"text-weight-s text-size-xs text-overflow-1"},{default:_((()=>[W(G(i.current_item.title),1)])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-start-center"},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs pa-5 shadow-5 white round-20",style:{width:"100rpx"}},{default:_((()=>[W("账号:")])),_:1}),d(s,{class:"text-weight-s text-size-xs text-overflow-1"},{default:_((()=>[W(G(i.current_item.username),1)])),_:1})])),_:1}),d(a,{class:"flex flex-row"},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs pa-5 shadow-5 white round-20",style:{width:"100rpx"}},{default:_((()=>[W("路径:")])),_:1}),d(s,{class:"text-weight-s text-size-xs text-overflow-1"},{default:_((()=>[W(G(i.current_item.pagepath),1)])),_:1})])),_:1}),d(a,{class:"flex flex-row"},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs pa-5 shadow-5 white round-20",style:{width:"100rpx"}},{default:_((()=>[W("分享id:")])),_:1}),d(s,{class:"text-weight-s text-size-xs text-overflow-1"},{default:_((()=>[W(G(i.current_item.shareId),1)])),_:1})])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(w,{label:"复制分享信息",width:250,height:60,round:20,onClick:o.copy_share_info},null,8,["onClick"])])),_:1})])),_:1})])),_:1}),d(a,{class:"flex flex-col",style:{"margin-top":"100rpx"}},{default:_((()=>[d(h,{round:24,width:666,bgColor:"primary",followDark:!1,color:"white",activeColor:"primary",list:i.mp_app_tools_list,defaultValue:i.current_choose_id,onChange:o.change_tools},null,8,["list","defaultValue","onChange"]),d(a,{class:"shadow-10 white pa-10 ma-10"},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-red text-size-xs"},{default:_((()=>[W("中转方案:不影响最终效果")])),_:1})])),_:1}),"short_url"==i.current_choose_id?(n(),u(a,{key:0},{default:_((()=>[d(s,{class:"text-size-xs"},{default:_((()=>[W(" 转换短链接,可用于在任何地方传播,用户点击链接会自动跳转到微信打开中转小程序,在中转小程序确定跳转即可完成用户点击小程序行为 ")])),_:1})])),_:1})):x("",!0),"mpapp_qr"==i.current_choose_id?(n(),u(a,{key:1},{default:_((()=>[d(s,{class:"text-size-xs"},{default:_((()=>[W(" 转换小程序码,可用于在微信和QQ传播,用户扫码会自动跳转到微信打开中转小程序,在中转小程序确定跳转即可完成用户点击小程序行为 ")])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(c,{src:i.current_item.mpapp_qr_url,style:{width:"300rpx",height:"300rpx"},mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1})):x("",!0),"url_qr"==i.current_choose_id?(n(),u(a,{key:2},{default:_((()=>[d(s,{class:"text-size-xs"},{default:_((()=>[W(" 转换普通二维码,可用于在任何地方传播,用户扫码会自动跳转到微信打开中转小程序,在中转小程序确定跳转即可完成用户点击小程序行为 ")])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(y,{ref:"qrcode",option:i.qr_cfig},null,8,["option"])])),_:1})])),_:1})):x("",!0),"down_avatar"==i.current_choose_id?(n(),u(a,{key:3},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(c,{src:i.current_item.weappiconurl,style:{width:"300rpx",height:"300rpx"},mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1})):x("",!0)])),_:1})])),_:1})])),_:1})):x("",!0),"wx_sticker"==i.current_item.type_text?(n(),u(a,{key:3},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(a,null,{default:_((()=>[d(c,{src:i.current_item.img_url,style:{width:"200rpx",height:"200rpx"},mode:"aspectFill"},null,8,["src"]),d(a,null,{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-wind-smile",color:"yellow",size:"m",label:"表情包"})])),_:1})])),_:1}),d(a,{class:"ma-10",style:{width:"400rpx"}},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs ma-20 text-overflow-3 text-red"},{default:_((()=>[W("可提取表情到本地,然后在其他软件平台添加")])),_:1})])),_:1})])),_:1})])),_:1})):x("",!0),"qq_sticker"==i.current_item.type_text||"office_sticker"==i.current_item.type_text?(n(),u(a,{key:4},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(a,null,{default:_((()=>[d(c,{src:i.img_list[i.current_index],style:{width:"200rpx",height:"200rpx"},mode:"aspectFill"},null,8,["src"]),d(a,null,{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-wind-smile",color:"yellow",size:"m",label:"表情包"})])),_:1})])),_:1}),d(a,{class:"ma-10",style:{width:"400rpx"}},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs ma-20 text-overflow-3 text-red"},{default:_((()=>[W("可提取表情到本地,然后在其他软件平台添加")])),_:1})])),_:1})])),_:1}),d(a,null,{default:_((()=>[d(a,{class:"flex flex-row flex-around flex-wrap flex-shrink"},{default:_((()=>[(n(!0),m(p,null,g(i.img_list,((e,t)=>(n(),u(a,null,{default:_((()=>[d(c,{src:e,style:{width:"200rpx",height:"200rpx"},mode:"widthFix",onClick:l=>o.to_down_img(t,e,i.img_list)},null,8,["src","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})):x("",!0),"shipinghao"==i.current_item.type_text?(n(),u(a,{key:5},{default:_((()=>[d(a,{class:""},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(v,{src:i.current_item.video_url,style:{width:"700rpx",height:"400rpx"}},null,8,["src"])])),_:1}),d(a,null,{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-playcircle",color:"orange",size:"m",label:"视频号"}),d(s,{class:"text-size-xs"},{default:_((()=>[W(G(i.current_item.title),1)])),_:1})])),_:1})])),_:1}),d(a,{class:"flex flex-col",style:{"margin-top":"100rpx"}},{default:_((()=>[d(h,{round:24,width:666,bgColor:"primary",followDark:!1,color:"white",activeColor:"primary",list:i.sph_tools_list,defaultValue:i.current_choose_id,onChange:o.change_tools},null,8,["list","defaultValue","onChange"]),d(a,{class:"shadow-10 white pa-10 ma-10"},{default:_((()=>["video_url"==i.current_choose_id?(n(),u(a,{key:0},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 提取无水印的视频到本地 ")])),_:1})])),_:1})])),_:1})):x("",!0),"cover_url"==i.current_choose_id?(n(),u(a,{key:1},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 提取视频小封面到本地 ")])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>{var e;return[d(c,{src:null==(e=i.current_item)?void 0:e.cover_url,style:{width:"300rpx",height:"300rpx"},mode:"aspectFill"},null,8,["src"])]})),_:1})])),_:1})):x("",!0),"full_cover_url"==i.current_choose_id?(n(),u(a,{key:2},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 提取视频大封面到本地 ")])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(c,{src:i.current_item.full_cover_url,style:{width:"300rpx",height:"300rpx"},mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1})):x("",!0)])),_:1})])),_:1})])),_:1})):x("",!0),"short_video"==i.current_item.type_text?(n(),u(a,{key:6},{default:_((()=>[d(a,{class:"flex flex-row flex-top"},{default:_((()=>[d(a,null,{default:_((()=>{var e;return[d(c,{src:null==(e=i.current_item)?void 0:e.cover_url,style:{width:"200rpx",height:"200rpx"},mode:"aspectFill"},null,8,["src"]),d(a,null,{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-playcircle",color:"deep-orange",size:"m",label:"短视频"})])),_:1})]})),_:1}),d(a,{class:"ma-10",style:{width:"400rpx"}},{default:_((()=>[d(s,{class:"text-weight-s text-size-xs ma-20 text-overflow-3 text-grey"},{default:_((()=>{var e;return[W(G(null==(e=i.current_item)?void 0:e.title),1)]})),_:1}),d(s,{class:"text-weight-s text-size-xs ma-20 text-overflow-3 text-red"},{default:_((()=>[W("可提取无水印的视频和图集到本地")])),_:1})])),_:1})])),_:1}),d(a,{class:"flex flex-col",style:{"margin-top":"100rpx"}},{default:_((()=>[d(h,{round:24,width:666,bgColor:"primary",followDark:!1,color:"white",activeColor:"primary",list:i.shortVideo_tools_list,defaultValue:i.current_choose_id,onChange:o.change_tools},null,8,["list","defaultValue","onChange"]),d(a,{class:"shadow-10 white pa-10 ma-10"},{default:_((()=>["video_url"==i.current_choose_id?(n(),u(a,{key:0},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 可下载无水印视频 ")])),_:1})])),_:1}),d(a,{class:"flex flex-col flex-center"},{default:_((()=>[d(v,{src:i.current_item.video_url,style:{width:"620rpx",height:"400rpx"}},null,8,["src"]),d(s,{class:"text-size-xs text-red ma-20"},{default:_((()=>[W("无法播放?可能视频链接已过期,请尝试重新发送")])),_:1})])),_:1})])),_:1})):x("",!0),"pics"==i.current_choose_id?(n(),u(a,{key:1},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 可下载无水印图集 ")])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-around flex-wrap flex-shrink"},{default:_((()=>[(n(!0),m(p,null,g(i.current_item.pics,((e,t)=>(n(),u(a,null,{default:_((()=>[d(c,{src:e,style:{width:"200rpx",height:"350rpx"},mode:"aspectFill",onClick:l=>o.to_down_img(t,e,i.current_item.pics)},null,8,["src","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):x("",!0),"cover_url"==i.current_choose_id?(n(),u(a,{key:2},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 可下载无水印封面 ")])),_:1})])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>{var e;return[d(c,{src:null==(e=i.current_item)?void 0:e.cover_url,style:{width:"720rpx"},mode:"aspectFill"},null,8,["src"])]})),_:1})])),_:1})):x("",!0),"music_url"==i.current_choose_id?(n(),u(a,{key:3},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(s,{class:"text-size-xs text-weight-b ma-20 text-red"},{default:_((()=>[W(" 可复制mp3音乐网络地址,可提取出来到游览器下载 ")])),_:1})])),_:1})])),_:1})):x("",!0)])),_:1})])),_:1})])),_:1})):x("",!0),d(a,{class:"flex flex-col flex-center"},{default:_((()=>[d(w,{label:"提取",width:600,round:20,onClick:o.to_save},null,8,["onClick"]),d(s,{class:"text-red text-size-xs"},{default:_((()=>[W("请等待所有图片加载完成再点击提取")])),_:1})])),_:1}),d(a,{class:"shadow-10 white round-5",onClick:o.to_add_office},{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(k,{align:"center",label:"更多功能",style:{width:"350rpx"}})])),_:1}),d(a,{class:"flex flex-row flex-wrap"},{default:_((()=>[d(f,{text:"",shadow:0,icon:"tmicon-weixin",color:"green",size:"m",label:"提取收藏·表情包"}),d(f,{text:"",shadow:0,icon:"tmicon-xiaochengxu\r\nt",color:"purple",size:"m",label:"小程序转码·转链接"}),d(f,{text:"",shadow:0,icon:"tmicon-playcircle",color:"orange",size:"m",label:"下载视频·号视频"}),d(f,{text:"",shadow:0,icon:"tmicon-playcircle",color:"deep-orange",size:"m",label:"下载平台无水印·视频图集"}),d(f,{text:"",shadow:0,icon:"tmicon-picture-fill",color:"red",size:"m",label:"下载公号文章内所有·照片(含封面)"}),d(f,{text:"",shadow:0,icon:"tmicon-gengduo\r\ntmi",color:"grey",size:"m",label:"更多"})])),_:1}),d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(w,{label:"前往体验功能",width:500,round:20,color:"green"})])),_:1})])),_:1},8,["onClick"]),d(a,null,{default:_((()=>[d(a,{class:"flex flex-row flex-center"},{default:_((()=>[d(k,{align:"center",label:"推荐列表",style:{width:"350rpx"}})])),_:1}),d(h,{round:24,width:666,bgColor:"primary",followDark:!1,color:"white",activeColor:"primary",list:i.recommend_tools_list,defaultValue:i.current_recommend_id,modelValue:i.current_recommend_id,"onUpdate:modelValue":t[0]||(t[0]=e=>i.current_recommend_id=e),modelModifiers:{lazy:!0}},null,8,["list","defaultValue","modelValue"]),d(a,{class:"shadow-10 white pa-10 ma-10"},{default:_((()=>["sticker"==i.current_recommend_id?(n(),u(a,{key:0,class:"my-20"},{default:_((()=>[d(C,{searchWidth:160,height:80,fontSize:32,onSearch:o.to_search,prefix:"tmicon-search",searchLabel:"搜索",modelValue:i.search_key,"onUpdate:modelValue":t[1]||(t[1]=e=>i.search_key=e),modelModifiers:{lazy:!0}},null,8,["onSearch","modelValue"])])),_:1})):x("",!0),d(z,{"scroll-top":e.scrollTop,"scroll-y":"true",class:"scroll-Y",onScrolltolower:t[2]||(t[2]=e=>o.get_recommend_data(i.current_recommend_id)),style:{height:"700rpx"}},{default:_((()=>["sticker"==i.current_recommend_id?(n(),u(a,{key:0},{default:_((()=>[d(a,{class:"flex flex-row flex-around flex-wrap flex-shrink"},{default:_((()=>[(n(!0),m(p,null,g(i.recommend_tools_list[0].item_list,((e,t)=>(n(),u(a,null,{default:_((()=>[d(c,{src:e,style:{width:"200rpx",height:"200rpx"},mode:"widthFix",onClick:t=>o.to_down_img(0,e,i.recommend_tools_list[0].item_list)},null,8,["src","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):x("",!0),"avatar"==i.current_recommend_id?(n(),u(a,{key:1},{default:_((()=>[d(a,{class:"flex flex-row flex-around flex-wrap flex-shrink"},{default:_((()=>[(n(!0),m(p,null,g(i.recommend_tools_list[1].item_list,((e,t)=>(n(),u(a,null,{default:_((()=>[d(c,{src:e,style:{width:"200rpx",height:"200rpx"},mode:"widthFix",onClick:t=>o.to_down_img(0,e,i.recommend_tools_list[1].item_list)},null,8,["src","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):x("",!0),"wallpaper"==i.current_recommend_id?(n(),u(a,{key:2},{default:_((()=>[d(a,{class:"flex flex-row flex-around flex-wrap flex-shrink"},{default:_((()=>[(n(!0),m(p,null,g(i.recommend_tools_list[2].item_list,((e,t)=>(n(),u(a,null,{default:_((()=>[d(c,{src:e,style:{width:"200rpx",height:"350rpx"},mode:"widthFix",onClick:t=>o.to_down_img(0,e,i.recommend_tools_list[2].item_list)},null,8,["src","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):x("",!0)])),_:1},8,["scroll-top"])])),_:1})])),_:1})])),_:1}))])),_:1})}]]);export{we as default};
