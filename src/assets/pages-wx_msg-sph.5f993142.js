import{R as e,o as t,c as o,w as s,b as i,e as a,t as r,U as l,j as d,h as n,l as m}from"./index-f5cba0e4.js";import{_}from"./tm-button.37a1a22f.js";import{r as c}from"./uni-app.es.62a9cda9.js";import{_ as p}from"./tm-modal.70c18b3d.js";import{_ as h}from"./tm-app.c7c4bc54.js";import{_ as u}from"./_plugin-vue_export-helper.1b428a4d.js";import"./tm-icon.ed97db34.js";import"./tm-translate.1353da0c.js";import"./tm-text.d010834d.js";import"./tm-overlay.d3e45220.js";import"./useWindowInfo.47d82cea.js";import"./tm-sheet.38d3d718.js";import"./useTheme.d1454919.js";const f=u({data:()=>({vk:uni.vk,msg_info:{url:"https://finder.video.qq.com/251/20302/stodownload?encfilekey=Cvvj5Ix3eewK0tHtibORqcsqchXNh0Gf3sJcaYqC2rQBMgYGNhhRWRXrSAaM6cT32yLz2gzB8jmJYN4EUKPibicAo3tquhZ6rlMLibz69fZPhK1Ne8IkDKr0BP5bDSpDWS7b&bizid=1023&dotrans=0&hy=SH&idx=1&m=&web=1"},current_video:"",preview_video_show:!1}),onLoad(e={}){let{msg_id:t}=e;t&&this.get_data_by_id(t)},onHide(){},onShareAppMessage(e){},methods:{to_preview_video(){wx.previewMedia({sources:[{url:this.current_video,type:"video"}],success:e=>{console.log("res",e)}})},save_video(e){this.current_video=e,this.preview_video_show=!0},async get_data_by_id(t){let o=await e({url:"https://option.db.apijuhe.cn/findOneById",method:"POST",data:{dbName:"wx_robot",collectionName:"msg_info",dataJson:{_id:t}}});console.log("rq_res",o.data);let{code:s,data:i,msg:a}=o.data;0==s&&(this.msg_info=i)}},watch:{},computed:{}},[["render",function(e,u,f,v,w,x){const g=l,b=d,j=c(n("tm-button"),_),y=m,k=c(n("tm-modal"),p),q=c(n("tm-app"),h);return t(),o(q,{color:"#1d1c22"},{default:s((()=>[i(b,{class:"flex flex-row flex-center"},{default:s((()=>{var e;return[i(g,{src:null==(e=w.msg_info)?void 0:e.url,style:{width:"630rpx"}},null,8,["src"])]})),_:1}),i(b,{class:"flex flex-row flex-center"},{default:s((()=>[i(j,{width:600,height:80,round:10,label:"查看/保存",onClick:u[0]||(u[0]=e=>x.save_video(w.msg_info.url))})])),_:1}),i(b,null,{default:s((()=>[i(y,{class:"text-red"},{default:s((()=>[a("url:"+r(w.msg_info.url),1)])),_:1})])),_:1}),i(k,{color:"white",okColor:"blue",cancelColor:"grey",splitBtn:"",title:"提示",content:"",height:300,okText:"知道了",hideCancel:"",width:600,show:w.preview_video_show,"onUpdate:show":u[1]||(u[1]=e=>w.preview_video_show=e),onOk:x.to_preview_video},{default:s((()=>[i(b,{class:"flex flex-row flex-center"},{default:s((()=>[i(y,{class:"text-weight-b text-black"},{default:s((()=>[a("注意:全屏播放后长按可进行保存视频")])),_:1})])),_:1})])),_:1},8,["show","onOk"])])),_:1})}],["__scopeId","data-v-88140c8a"]]);export{f as default};
