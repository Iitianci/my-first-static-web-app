import{g as t,s as e,a,n as l,o as i,c as s,w as o,b as n,d as r,r as c,F as d,e as u,f as _,i as m,h as p,j as f,I as g,k as h,t as k,l as x}from"./index-f5cba0e4.js";import{_ as w}from"./tm-icon.ed97db34.js";import{r as y}from"./uni-app.es.62a9cda9.js";import{_ as b}from"./tm-button.37a1a22f.js";import{_ as v}from"./tm-message.42d12b93.js";import{_ as j}from"./tm-skeleton-line.9799a71e.js";import{_ as C}from"./tm-sheet.38d3d718.js";import{_ as I}from"./tm-app.c7c4bc54.js";import{s as T}from"./index.0f5d7c69.js";import{g as z}from"./api.f04a1197.js";import{s as D}from"./sticker-card.b881b449.js";import{_ as F}from"./_plugin-vue_export-helper.1b428a4d.js";import"./tm-text.d010834d.js";import"./useWindowInfo.47d82cea.js";import"./useTheme.d1454919.js";const K=F({components:{stickerCard:D},data:()=>({vk:uni.vk,first_loding:!0,tool_list:[{path:"/pages/sticker/sticker",icon:"/static/tools/sticker.png",title:"表情素材",sub_title:"从此斗图再也不愁",name:"sticker"},{path:"/pages/avatar/avatar",icon:"/static/tools/avatar.png",title:"头像素材",sub_title:"每个都是一种个性",name:"avatar"},{path:"/pages/wallpaper/wallpaper",icon:"/static/tools/wallpaper.png",title:"壁纸素材",sub_title:"每张都很有特色",name:"wallpaper"},{path:"/pages/gallery/gallery",icon:"/static/tools/gallery.png",title:"套图素材",sub_title:"一套会更加美观",name:"gallery"}],material_item:{item_list:[]},kouling:""}),computed:{},onPullDownRefresh(){},async onLoad(e={}){console.log("options--------",e),e.kouling&&(this.kouling=e.kouling,await this.to_search()),this.first_loding=!0,await this.get_list_data(),setTimeout((()=>{this.first_loding=!1}),200),t("had_guild")||!1||this.to_guild()},onShow(){},onReachBottom(){this.get_list_data()},onReady(){},methods:{to_guild(){e({title:"提示",content:"第一次使用?查看使用教程",confirmText:"查看",success:t=>{t.confirm&&(a("had_guild",!0),l({url:"/pages/web/web"}))}})},async to_search(){if(console.log("搜索"),!this.kouling)return void uni.vk.alert("请输入口令");let t=await uni.vk.callFunction({url:"client/kouling/pub/to_search",title:"请求中...",data:{kouling:this.kouling}});0==t.code&&l({url:`/pages/kouling/kouling?platform=${t.platform}&in_time=${(new Date).getTime()}&item_id=${t.item_id}`})},onKeyInput(t){this.kouling=t.detail.value},async get_list_data(){if(this.is_loadding)return;this.is_loadding=!0;let t=await z("sticker",{},1,30);if(0==t.code&&null!=t.data){let e=t.data;this.material_item.item_list=[...this.material_item.item_list,...e]}else if(0==t.code&&null==t.data)return;this.is_loadding=!1},copy_data(t){t?T(t).then((e=>{uni.vk.alert(t,"复制成功")}),(e=>{uni.vk.alert("复制失败",t)})):uni.vk.alert("所复制的内容为空数据")},copy_err_data(){let e=t("in_review_requestId");this.copy_data(e)},to_path(t){this.in_time=(new Date).getTime(),uni.vk.navigateTo({url:t,fail:t=>{console.log("err",t)}})}}},[["render",function(t,e,a,l,T,z){const D=m,F=y(p("tm-icon"),w),K=f,R=g,S=y(p("tm-button"),b),$=x,B=y(p("tm-message"),v),L=y(p("tm-skeleton-line"),j),q=y(p("tm-sheet"),C),A=h("sticker-card"),E=y(p("tm-app"),I);return i(),s(E,null,{default:o((()=>[n(D,{src:"/client/assets/bg2-db868084.png",style:{width:"750rpx"}}),n(K,{class:"flex flex-row flex-center white shadow-10 pa-20"},{default:o((()=>[n(K,{class:"px-20"},{default:o((()=>[n(F,{name:"tmicon-search",fontSize:50})])),_:1}),n(K,{class:"flex-1"},{default:o((()=>[n(R,{height:100,placeholder:"请输入口令",focus:!1,onInput:z.onKeyInput,style:{"background-color":"#eaeaea",height:"80rpx",padding:"0rpx 20rpx"}},null,8,["onInput"])])),_:1}),n(K,{class:"mx-10"},{default:o((()=>[n(S,{label:"搜索",width:200,round:20,fontSize:30,fontColor:"white",onClick:z.to_search},null,8,["onClick"])])),_:1})])),_:1}),n(K,null,{default:o((()=>[n(S,{width:750,round:0,margin:[0,0],label:"点击查看使用教程",color:"green",onClick:z.to_guild},null,8,["onClick"])])),_:1}),n(K,{class:"flex flex-row flex-around flex-wrap"},{default:o((()=>[(i(!0),r(d,null,c(T.tool_list,((t,e)=>(i(),s(K,{class:"ma-10 pa-10 shadow-1 white round-5",style:{width:"350rpx"}},{default:o((()=>[n(K,{class:"flex flex-row flex-around",onClick:e=>z.to_path(t.path)},{default:o((()=>[n(K,{class:"flex flex-col flex-center"},{default:o((()=>[n($,{class:""},{default:o((()=>[u(k(t.title),1)])),_:2},1024),n($,{class:"text-size-xs text-grey mt-20"},{default:o((()=>[u(k(t.sub_title),1)])),_:2},1024)])),_:2},1024),n(K,{class:"flex flex-row flex-center"},{default:o((()=>[n(D,{src:t.icon,style:{width:"120rpx",height:"120rpx","border-radius":"60rpx"},mode:"aspectFill"},null,8,["src"])])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),256))])),_:1}),n(B,{ref:"toast"},null,512),n(K,null,{default:o((()=>[T.first_loding?(i(),r(d,{key:0},c(10,((t,e)=>n(K,null,{default:o((()=>[n(q,{_class:"shadow-1 round-5",class:"round-5",padding:[20,30],margin:[25,10]},{default:o((()=>[n(K,{class:"flex flex-row flex-center"},{default:o((()=>[(i(),r(d,null,c(3,(t=>n(K,{class:"ma-10",style:{width:"210rpx"}},{default:o((()=>[n(L,{height:175,width:175})])),_:1}))),64))])),_:1})])),_:1})])),_:1}))),64)):(i(),s(K,{key:1},{default:o((()=>[n(A,{material_item:T.material_item,first_loding:T.first_loding,onClick_down:t.click_down,onTo_change_choose:t.to_change_choose,action:t.action},null,8,["material_item","first_loding","onClick_down","onTo_change_choose","action"])])),_:1}))])),_:1}),t.is_loading?(i(),s(K,{key:0,style:{"margin-bottom":"250rpx"}},{default:o((()=>[u("> "),n(F,{spin:"","font-size":50,name:"tmicon-loading",color:"blue"})])),_:1})):_("",!0)])),_:1})}]]);export{K as default};
