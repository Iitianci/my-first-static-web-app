import{S as t,R as e,o,c as s,w as i,b as a,e as l,l as r,i as n,h as m,j as _}from"./index-f5cba0e4.js";import{_ as c}from"./tm-button.37a1a22f.js";import{r as d}from"./uni-app.es.62a9cda9.js";import{_ as h}from"./tm-modal.70c18b3d.js";import{_ as u}from"./tm-app.c7c4bc54.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";import"./tm-icon.ed97db34.js";import"./tm-translate.1353da0c.js";import"./tm-text.d010834d.js";import"./tm-overlay.d3e45220.js";import"./useWindowInfo.47d82cea.js";import"./tm-sheet.38d3d718.js";import"./useTheme.d1454919.js";const p=g({data:()=>({vk:uni.vk,msg_info:{},jump_drawer_show:!1,touching:!1,preview_img_show:!1,current_img:""}),computed:{img_style(){let t={filter:"blur(20px)"};return this.touching&&(t={}),t}},onLoad(t={}){let{msg_id:e}=t;e&&this.get_data_by_id(e)},onHide(){},onShareAppMessage(t){},methods:{to_preview_img(){t({urls:[this.current_img]})},save_img(t){this.current_img=t,this.preview_img_show=!0},touchcancel(){this.touching=!1},touchmove(){0==this.touching&&(this.touching=!0)},touchend(){console.log("@touchend"),this.touching=!1},touchstart(){console.log("touchstart"),this.touching=!0},async get_data_by_id(t){let o=await e({url:"https://option.db.apijuhe.cn/findOneById",method:"POST",data:{dbName:"wx_robot",collectionName:"msg_info",dataJson:{_id:t}}});console.log("rq_res",o.data);let{code:s,data:i,msg:a}=o.data;0==s&&(this.msg_info=i)}},watch:{},computed:{}},[["render",function(t,e,g,p,f,w){const x=r,j=n,v=d(m("tm-button"),c),b=_,y=d(m("tm-modal"),h),k=d(m("tm-app"),u);return o(),s(k,null,{default:i((()=>[a(b,null,{default:i((()=>[a(b,{class:"flex flex-col flex-center ma-10 shadow-10 pa-10",onClick:e[0]||(e[0]=t=>w.save_img(f.msg_info.msg_cdn_url))},{default:i((()=>[a(x,{class:"text-align-center text-grey ma-20"},{default:i((()=>[l("全图")])),_:1}),a(j,{src:f.msg_info.msg_cdn_url,style:{width:"650rpx"},mode:"widthFix"},null,8,["src"]),a(v,{label:"预览/下载",width:500,round:20})])),_:1}),a(b,{class:"flex flex-col flex-center ma-10 shadow-10 pa-10",onClick:e[1]||(e[1]=t=>w.save_img(f.msg_info.cdn_url_1_1))},{default:i((()=>[a(x,{class:"text-align-center text-grey ma-20"},{default:i((()=>[l("正方形")])),_:1}),a(j,{src:f.msg_info.cdn_url_1_1,style:{width:"550rpx"},mode:"widthFix"},null,8,["src"]),a(v,{label:"预览/下载",width:500,round:20})])),_:1})])),_:1}),a(y,{color:"white",okColor:"blue",cancelColor:"grey",splitBtn:"",title:"提示",content:"",height:300,okText:"知道了",hideCancel:"",width:600,show:f.preview_img_show,"onUpdate:show":e[2]||(e[2]=t=>f.preview_img_show=t),onOk:w.to_preview_img},{default:i((()=>[a(b,{class:"flex flex-row flex-center"},{default:i((()=>[a(x,{class:"text-weight-b text-black"},{default:i((()=>[l("长按可进行保存图片")])),_:1})])),_:1})])),_:1},8,["show","onOk"])])),_:1})}],["__scopeId","data-v-72671481"]]);export{p as default};
