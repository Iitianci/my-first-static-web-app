import{q as e,v as t,x as l,a0 as a,z as o,o as n,c as r,w as i,b as s,G as u,d as f,F as c,r as d,D as m,f as p,a2 as x,j as y}from"./index-f5cba0e4.js";import{_ as h}from"./tm-sheet.38d3d718.js";import{t as b}from"./tm-text.d010834d.js";import{_}from"./tm-icon.ed97db34.js";import{t as w}from"./tm-translate.1353da0c.js";import{c as v}from"./uni-app.es.62a9cda9.js";const g=e({__name:"tm-alert",props:{...v,transprent:{type:[Boolean],default:!1},border:{type:[Number],default:0},round:{type:[Number],default:2},margin:{type:Array,default:()=>[32,12]},padding:{type:Array,default:()=>[24,24]},content:{type:[Array,Object],default:()=>[]},autoPlay:{type:Boolean,default:!0},hidnAniName:{type:String,default:"zoom"},duration:{type:Number,default:3e3},closable:{type:[Boolean,String],default:!0},height:{type:[Number],default:160},maxLine:{type:[Number],default:1},showDot:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:v}){const g=e,k=t(null),z=t(0),A=t(!0);let T=uni.$tm.u.getUid(5);const D=l((()=>"zoom"==g.hidnAniName||"fade"==g.hidnAniName)),N=l((()=>{var e,t,l;if(!Array.isArray(g.content))return[{content:(null==(e=g.content)?void 0:e.content)??"",title:(null==(t=g.content)?void 0:t.title)??"",icon:(null==(l=g.content)?void 0:l.icon)??""}];return g.content.map((e=>(e.content=(null==e?void 0:e.content)??"",e.title=(null==e?void 0:e.title)??"",e.icon=(null==e?void 0:e.icon)??"",e)))})),S=l((()=>N.value.length));function j(){clearTimeout(T),A.value=!1}function C(){S.value<1||(clearTimeout(T),T=setTimeout((function(){!function(){clearTimeout(T);let e=z.value+1;e==S.value&&(e=0);z.value=e,C()}()}),g.duration))}function B(){var e;null==(e=k.value)||e.play(),clearTimeout(T),T=setTimeout((function(){A.value=!1}),301)}return a((()=>clearTimeout(T))),o((()=>{g.autoPlay&&C()})),(t,l)=>{const a=y;return A.value?(n(),r(w,{key:0,onEnd:j,ref_key:"bodyani",ref:k,reverse:m(D),name:e.hidnAniName,autoPlay:!1},{default:i((()=>[s(h,{height:g.height-2*g.padding[1],color:g.color,_class:t._class,_style:t._style,followTheme:g.followTheme,dark:g.dark,round:g.round,shadow:g.shadow,outlined:g.outlined,border:g.border,borderStyle:g.borderStyle,borderDirection:g.borderDirection,text:g.text,transprent:g.transprent,linear:g.linear,linearDeep:g.linearDeep,margin:g.margin,padding:g.padding},{default:i((()=>[s(a,{class:"relative bdcld flex flex-row flex-row-top-start"},{default:i((()=>[s(a,{style:{width:"0px"},class:u(["flex flex-12 flex-row flex-row-top-start",[e.closable?"pr-24 ":""]])},{default:i((()=>[(n(!0),f(c,null,d(m(N),((e,t)=>(n(),r(a,{key:t,class:u([[z.value==t?"flex-12 ":" flex-0 "],"flex flex-row flex-row-top-start anifun"])},{default:i((()=>[z.value==t?(n(),r(w,{key:0,name:"zoom",style:{width:"100%"},_class:"flex-12 flex flex-row flex-row-top-start"},{default:i((()=>[s(a,{class:"flex-12 flex flex-row flex-row-top-start"},{default:i((()=>[e.icon?(n(),r(a,{key:0,class:"pr-32",style:{height:"36rpx"}},{default:i((()=>[s(_,{fontSize:32,lineHeight:0,name:e.icon},null,8,["name"])])),_:2},1024)):p("",!0),s(a,{style:{width:"0px"},class:"flex-12 flex flex-col"},{default:i((()=>[e.title?(n(),r(a,{key:0,class:"flex flex-col flex-col-top-start",style:{height:"36rpx"}},{default:i((()=>[s(b,{onClick:l=>v("click",e,t),_class:"text-size-m  text-overflow-1 text-weight-b",fontSize:30,lineHeight:0,label:e.title},null,8,["onClick","label"])])),_:2},1024)):p("",!0),e.content?(n(),r(a,{key:1,class:"flex-12 overflow"},{default:i((()=>[s(b,{onClick:l=>v("click",e,t),fontSize:26,_class:"text-overflow-"+g.maxLine,lineHeight:0,label:e.content},null,8,["onClick","_class","label"]),m(S)>1&&g.showDot?(n(),r(b,{key:0,_class:"pt-24",label:`${z.value+1}/${m(S)}`},null,8,["label"])):p("",!0)])),_:2},1024)):p("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)):p("",!0)])),_:2},1032,["class"])))),128))])),_:1},8,["class"]),x(t.$slots,"right",{},(()=>[e.closable?(n(),r(a,{key:0,class:"flex flex-row flex-row-top-end"},{default:i((()=>[s(_,{onClick:B,fontSize:32,lineHeight:0,name:"tmicon-times-circle-fill"})])),_:1})):p("",!0)]))])),_:3})])),_:3},8,["height","color","_class","_style","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","margin","padding"])])),_:3},8,["reverse","name"])):p("",!0)}}});export{g as _};
