import{q as e,u as a,x as t,v as i,y as l,z as u,a0 as s,o as n,c as r,w as o,E as d,G as v,D as f,a2 as p,f as c,A as m,j as h}from"./index-f5cba0e4.js";import{c as y,e as g,a as x}from"./uni-app.es.62a9cda9.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";const w=b(e({__name:"tm-translate",props:{...y,duration:{type:Number,default:300},delay:{type:Number,default:0},name:{type:String,default:"fade"},autoPlay:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:0},width:{type:[Number,String],default:0},reverse:{type:[Boolean,String],default:!1},initByWechat:{type:Boolean,default:!1}},emits:["start","end","click"],setup(e,{expose:y,emit:b}){var w;const S=e;function _(e){b("click",e)}null==(w=a())||w.proxy;const B=t((()=>g(S))),N=t((()=>x(S))),T=t((()=>S.height&&Number(S.height)?String(S.height).indexOf("px")>-1||String(S.height).indexOf("rpx")>-1?String(S.height):String(S.height)+"rpx":0)),k=t((()=>S.width?String(S.width).indexOf("px")>-1||String(S.width).indexOf("rpx")>-1?S.width:S.width+"rpx":0)),j=t((()=>S.name||"fade")),O=i(S.duration),A=t((()=>S.reverse)),$=t((()=>A.value?"-reverse":"")),z=i(j.value+$.value),D=i(0),E=i(Number(uni.$tm.u.getUid(3))),P=i(!1);function W(){m((()=>{P.value=!0,1!=S.autoPlay||S.disabled||m((()=>q()))}))}function q(){1!=S.disabled&&(D.value=0,clearTimeout(E.value),E.value=setTimeout((()=>{A.value?z.value=j.value:z.value=j.value+"-reverse",E.value=setTimeout((()=>{b("end")}),S.duration)}),20))}function C(){1!=S.disabled&&(clearTimeout(E.value),D.value=0)}function F(){C(),D.value=0}return i(null),l([()=>S.initByWechat,()=>S.name],(()=>{F()})),l([()=>S.name],(()=>{z.value=j.value+$.value})),y({init:W,play:q,stop:C,reset:F}),u((()=>W())),s((()=>{clearTimeout(E.value),D.value=0})),(e,a)=>{const t=h;return n(),r(t,{ref:"bodywk",onClick:_,class:v([f(N),"overflow"]),style:d([f(T)?{height:f(T)}:"",f(k)?{width:f(k)}:"",f(B)])},{default:o((()=>[P.value?(n(),r(t,{key:0,ref:"nvueElAni",style:d({transitionDuration:`${O.value}ms`,transitionTimingFunction:"cubic-bezier(.04,.78,.42,1)"}),class:v(["flex-col flex ",z.value,f(N)])},{default:o((()=>[p(e.$slots,"default",{},void 0,!0)])),_:3},8,["style","class"])):c("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-cbf8fb39"]]);export{w as t};
