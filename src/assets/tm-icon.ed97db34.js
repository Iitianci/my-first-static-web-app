import{q as e,x as t,u as n,a3 as s,y as r,an as a,z as o,o as i,c as l,w as u,D as c,G as f,E as p,f as m,l as g,i as d,j as h}from"./index-f5cba0e4.js";import{c as y,u as S,e as z,a as x,b,d as v,t as _}from"./uni-app.es.62a9cda9.js";import{_ as H}from"./_plugin-vue_export-helper.1b428a4d.js";const k=H(e({__name:"tm-icon",props:{...y,fontSize:{type:[Number],default:34},color:{type:String,default:""},name:{type:String,default:""},spin:{type:[Boolean],default:!1},unit:{type:String,default:"rpx"},lineHeight:{type:[Number],default:-1},rotate:{type:Boolean,default:!1},rotateDeg:{type:Number,default:0},customicon:{type:Boolean,default:!1}},emits:["click","longpress"],setup(e,{emit:y}){var H;const k=e,w=S(),C=t((()=>k.rotateDeg));null==(H=n())||H.proxy;const j=t((()=>w.tmStore)),B=t((()=>z(k))),D=t((()=>x(k))),N=t((()=>b(k,j.value)));function A(e){y("click",e)}t((()=>v(k,N.value,j.value)));const I=s("appTextColor",t((()=>{}))),L=t((()=>{if(k.followTheme&&w.tmStore.color)return w.tmStore.color;let e=_.isCssColor(k.color);if(e)return k.color;if(k.color&&!e){return _.getColor(k.color).csscolor}return I.value?I.value:"rgba(34, 34, 34, 1.0)"})),M=t((()=>{if(k.fontSize<24&&"rpx"==k.unit)return{transform:"scale(0.8)",fontSize:(k.fontSize||30)+k.unit,lineHeight:k.lineHeight>-1?k.lineHeight+k.unit:(k.fontSize||30)+k.unit};let e={fontSize:(k.fontSize||30)+k.unit,lineHeight:k.lineHeight>-1?k.lineHeight+k.unit:(k.fontSize||30)+k.unit};return 0==k.lineHeight&&delete e.lineHeight,e})),T=t((()=>"."==k.name[0]||"@"==k.name[0]||"/"==k.name[0]||"~"==k.name[0]||"data:"==k.name.substring(0,5)||"http"==k.name.substring(0,4)||"https"==k.name.substring(0,5)||"ftp"==k.name.substring(0,3))),$=t((()=>{var e;return null==(e=k.name.split("-"))?void 0:e[0]})),q=t((()=>{if(T.value)return k.name;if(k.customicon)try{let e=k.name.split("-");if(/^e[0-9|a-z|A-Z]{3}/.test(e[e.length-1])){return k.name.substring(0,k.name.lastIndexOf("-"))}}catch(e){}return k.name})),E=t((()=>k.spin)),G=s("custom_space_size",[0,0]);return t((()=>Math.ceil(k.fontSize||34)+G[0])),t((()=>Math.ceil(k.fontSize||34)+G[1])),r(E,(()=>{})),a((()=>{})),o((()=>{})),(e,t)=>{const n=g,s=d,r=h;return i(),l(r,{"render-whole":!0,class:"flex flex-row flex-row-center-center",style:p([{marginRight:c(G)[0]+"rpx",marginBottom:c(G)[1]+"rpx"}])},{default:u((()=>[c(T)?m("",!0):(i(),l(n,{key:0,onClick:A,onLongpress:t[0]||(t[0]=e=>y("longpress",e)),class:f([k.rotate?"ani":"",c(E)?"spin":"","text-size-n d-inline-block",c($),c(q),c(D)]),style:p([{transform:`rotate(${c(C)}deg)`},c(M),{color:c(L)},c(B)])},null,8,["class","style"])),c(T)?(i(),l(s,{key:1,"render-whole":!0,onClick:A,onLongpress:t[1]||(t[1]=e=>y("longpress",e)),ref:"icon",src:c(q),class:f([k.rotate?"ani":"",c(E)?"spin":"",c(D)]),style:p([{transform:`rotate(${c(C)}deg)`},{width:(k.fontSize||30)+k.unit,height:(k.fontSize||30)+k.unit},c(B)])},null,8,["src","class","style"])):m("",!0)])),_:1},8,["style"])}}}),[["__scopeId","data-v-1cbf021d"]]);export{k as _};
