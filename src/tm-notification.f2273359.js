import{q as e,u as t,v as l,a3 as o,x as a,$ as n,z as r,a0 as u,o as s,c as i,w as f,b as d,a2 as p,G as m,E as c,D as h,f as b,C as v,A as w,j as x}from"./index-f5cba0e4.js";import{_ as y}from"./tm-sheet.38d3d718.js";import{t as g}from"./tm-text.d010834d.js";import{_}from"./tm-icon.ed97db34.js";import{c as S}from"./uni-app.es.62a9cda9.js";import{_ as T}from"./_plugin-vue_export-helper.1b428a4d.js";const k=T(e({__name:"tm-notification",props:{...S,followTheme:{type:[Boolean],default:!0},transprent:{type:[Boolean],default:!1},border:{type:[Number],default:0},round:{type:[Number],default:2},shadow:{type:[Number],default:0},margin:{type:Array,default:()=>[0,0]},padding:{type:Array,default:()=>[24,16]},duration:{type:Number,default:2e3},offset:{type:Array,default:()=>[32,32]},placement:{type:String,default:"topLeft"},label:{type:String,default:""},icon:{type:String,default:"tmicon-info-circle-fill"}},emits:["click","close"],setup(e,{expose:S,emit:T}){var k;const N=e;null==(k=t())||k.proxy,l(null);const j=o("tmuiSysInfo",a((()=>({bottom:0,height:750,width:v(750),top:0,isCustomHeader:!1,sysinfo:null}))));let D=a((()=>j.value.bottom)),A=a((()=>j.value.top)),z=a((()=>j.value.width)),C=NaN;const L=l(!1),$=l(N.label),B=l(N.icon),E=a((()=>"topLeft"==N.placement?{top:A.value+v(N.offset[1]),left:v(N.offset[0]),right:null,bottom:null,width:null}:"topRight"==N.placement?{top:A.value+v(N.offset[1]),left:null,right:v(N.offset[0]),bottom:null,width:null}:"bottomLeft"==N.placement?{top:null,left:v(N.offset[0]),right:null,bottom:D.value+v(N.offset[1]),width:null}:"bottomRight"==N.placement?{top:null,left:null,right:v(N.offset[0]),bottom:D.value+v(N.offset[1]),width:null}:"top"==N.placement?{top:A.value+v(N.offset[1]),left:v(N.offset[0]),right:null,bottom:null,width:z.value-2*v(N.offset[0])}:"bottom"==N.placement?{top:null,left:v(N.offset[0]),right:null,bottom:D.value+v(N.offset[1]),width:z.value-2*v(N.offset[0])}:{left:null,right:null,bottom:null,width:null,top:null})),I=l(N.color);function R(){L.value=!1,clearTimeout(C),T("close")}return n((()=>{I.value=N.color})),r((()=>{$.value=N.label,B.value=N.icon})),u((()=>{clearTimeout(C)})),S({show:function(e){let{icon:t,label:l,duration:o}=e||{};if($.value=l||N.label||"",B.value=t||N.icon||"",I.value=((null==e?void 0:e.color)??I.value)||I.value,o=void 0===o?N.duration||0:o,L.value||!isNaN(C))L.value=!1,clearTimeout(C),w((()=>{L.value=!0,o&&(C=setTimeout((function(){L.value=!1}),o))}));else{if(L.value=!0,!o)return;C=setTimeout((function(){L.value=!1}),o)}},hide:R}),(e,t)=>{const l=x;return L.value?(s(),i(l,{key:0,class:m(["fixed scale"]),style:c([null!==h(E).left?{left:h(E).left+"px"}:"",null!==h(E).right?{right:h(E).right+"px"}:"",null!==h(E).top?{top:h(E).top+"px"}:"",null!==h(E).bottom?{bottom:h(E).bottom+"px"}:"",null!==h(E).width?{width:h(E).width+"px"}:"",N.shadow?{padding:4*N.shadow+"rpx"}:""])},{default:f((()=>[d(y,{onClick:t[0]||(t[0]=e=>T("click",e)),color:I.value,_class:e._class,_style:e._style,followTheme:N.followTheme,dark:N.dark,round:N.round,shadow:N.shadow,outlined:N.outlined,border:N.border,borderStyle:N.borderStyle,borderDirection:N.borderDirection,text:N.text,transprent:N.transprent,linear:N.linear,linearDeep:N.linearDeep,margin:N.margin,padding:N.padding},{default:f((()=>[p(e.$slots,"default",{},(()=>[d(l,{class:"flex flex-row flex-row-center-between relative"},{default:f((()=>[d(l,{class:"flex flex-1 flex-row overflow flex-row-center-start"},{default:f((()=>[d(_,{_class:"pr-10",fontSize:26,name:B.value},null,8,["name"]),p(e.$slots,"default",{},(()=>[d(g,{_class:"text-overflow-1",label:$.value},null,8,["label"])]),!0)])),_:3}),d(l,{class:"pl-24 pr-12 flex flex-center",style:{width:"0rpx"}},{default:f((()=>[d(_,{onClick:R,fontSize:24,name:"tmicon-times"})])),_:1})])),_:3})]),!0)])),_:3},8,["color","_class","_style","followTheme","dark","round","shadow","outlined","border","borderStyle","borderDirection","text","transprent","linear","linearDeep","margin","padding"])])),_:3},8,["style"])):b("",!0)}}}),[["__scopeId","data-v-b0dc20a0"]]);export{k as _};
