import{o,c as e,w as t,b as a,j as s,h as r}from"./index-f5cba0e4.js";import{_ as l}from"./tm-button.37a1a22f.js";import{r as i}from"./uni-app.es.62a9cda9.js";import{_ as p}from"./tm-drawer.c7ab85c5.js";import{_ as m}from"./tm-app.c7c4bc54.js";import{_ as d}from"./_plugin-vue_export-helper.1b428a4d.js";import"./tm-icon.ed97db34.js";import"./tm-translate.1353da0c.js";import"./tm-text.d010834d.js";import"./tm-overlay.d3e45220.js";import"./useWindowInfo.47d82cea.js";import"./useTheme.d1454919.js";const n=d({data:()=>({vk:uni.vk,msg_info:{},jump_drawer_show:!1}),onLoad(o={}){console.log("options",o);let{code:e}=o;e&&this.get_data_by_code(e)},onHide(){},onShareAppMessage(o){},methods:{to_jump_wx_app(){console.log("打开小程序"),uni.navigateToMiniProgram({appId:this.msg_info.appid,path:this.msg_info.pagepath.replace(".html",""),envVersion:"release",success:o=>{console.log("打开成功",o)},fail:o=>{console.log("打开失败",o)}})},async get_data_by_code(o){let e=await uni.vk.callFunction({url:"client/wx_msg/pub/get_msg_by_code",title:"请求中...",data:{code:o},env:"wx-robot"});console.log("dataRes",e.data),0==e.code&&(this.msg_info=e.data,this.jump_drawer_show=!0,this.to_jump_wx_app())}},watch:{},computed:{}},[["render",function(d,n,_,c,u,h){const f=s,w=i(r("tm-button"),l),g=i(r("tm-drawer"),p),j=i(r("tm-app"),m);return o(),e(j,{color:"#1d1c22"},{default:t((()=>[a(f,{class:"zoom"},{default:t((()=>[a(g,{ref:"lodding_drawer",placement:"center",show:u.jump_drawer_show,"onUpdate:show":n[0]||(n[0]=o=>u.jump_drawer_show=o),height:450,widht:750,hideHeader:"",overlayClick:!1,disabbleScroll:"",mask:!1,color:"#1d1c22"},{default:t((()=>[a(f,{class:"flex flex-col flex-center ma-20",onClick:h.to_jump_wx_app},{default:t((()=>[a(f,{class:"lds-hourglass"}),a(f,{class:"flex flex-col flex-center"},{default:t((()=>[a(w,{width:450,height:140,round:20,label:"点此打开完整功能"})])),_:1})])),_:1},8,["onClick"])])),_:1},8,["show"])])),_:1})])),_:1})}],["__scopeId","data-v-aac132e3"]]);export{n as default};
