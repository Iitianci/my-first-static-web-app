import{a as e,P as t,n as i,o as s,c as l,w as n,j as r,b as a,d as c,r as _,F as o,h as u,i as h}from"./index-f5cba0e4.js";import{_ as m}from"./tm-skeleton-line.9799a71e.js";import{r as d}from"./uni-app.es.62a9cda9.js";import{_ as f}from"./tm-sheet.38d3d718.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const p=x({name:"wallpaper-card",emits:["change_full_status"],props:{first_loding:{type:String,default:""},material_item:{type:Object,default:{}},action:{type:String,default:"view"}},data:()=>({vk:uni.vk,is_full:!1,current_item:{},current_index:0}),computed:{},methods:{change_full_status(e){this.$emit("change_full_status",e)},to_change_choose(s,l){this.current_index=l,this.current_item=s;let n=this.material_item.item_list[this.current_index].cloud_url;e("img_list",[n]);let r={need_jump:!1,need_check_ad_review:!0,in_time:t((new Date).getTime()),item:{type_text:"sticker"}};i({url:`/pages/matetial/detail?extraData=${encodeURIComponent(JSON.stringify(r))}`})},async click_down(e,t){this.$emit("click_down",{down_url:e,down_type:t})},to_full_show(e,t){console.log("index",t),this.current_index=t,this.current_item=e,this.is_full=!0,this.change_full_status(this.is_full)},async next_item(){if(this.current_index>=this.material_item.item_list.length-1)return console.log("no more"),void uni.vk.toast("没有更多了","none");this.current_index++,this.current_item=this.material_item.item_list[this.current_index]},before_item(){if(this.current_index<=0)return console.log("is the first"),void uni.vk.toast("已经是第一个","none");this.current_index--,this.current_item=this.material_item.item_list[this.current_index]},start(e){this.clientX=e.changedTouches[0].clientX,this.clientY=e.changedTouches[0].clientY},async end(e){const t=e.changedTouches[0].clientX-this.clientX,i=e.changedTouches[0].clientY-this.clientY;i>50||t>50?(console.log("下滑或左划"),this.before_item()):(i<-50||t<-50)&&(console.log("上滑或右划"),this.next_item())},exit_full(){this.is_full=!1,this.change_full_status(this.is_full)}}},[["render",function(e,t,i,x,p,g){const w=d(u("tm-skeleton-line"),m),k=r,y=h,v=d(u("tm-sheet"),f);return s(),l(k,null,{default:n((()=>[a(k,null,{default:n((()=>[i.first_loding?(s(),c(o,{key:0},_(20,((e,t)=>a(k,null,{default:n((()=>[a(k,{class:"flex flex-row flex-center"},{default:n((()=>[(s(),c(o,null,_(5,(e=>a(k,{class:"ma-5",style:{width:"150rpx"}},{default:n((()=>[a(w,{height:300,width:145})])),_:1}))),64))])),_:1})])),_:1}))),64)):(s(),l(k,{key:1},{default:n((()=>[a(v,{class:"flex flex-row flex-col-center-center",round:5,margin:[5,5]},{default:n((()=>[a(k,{class:"flex flex-row flex-center flex-wrap mx-10",style:{width:"730rpx"}},{default:n((()=>[(s(!0),c(o,null,_(i.material_item.item_list,((e,t)=>(s(),l(k,{key:t,class:"flex flex-row"},{default:n((()=>[(s(),l(y,{style:{width:"230rpx",height:"230rpx"},class:"ma-5",src:e.cloud_url+"?x-oss-process=image/resize,w_275,m_lfit",mode:"aspectFill",onClick:i=>g.to_change_choose(e,t),key:t},null,8,["src","onClick"]))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1})}]]);export{p as s};
