import{q as t,u as e,x as l,v as o,o as r,c as i,w as a,b as h,G as p,E as d,D as u,d as n,F as s,r as f,f as c,e as g,t as m,A as x,U as y,l as w,j as b,af as v,ag as $}from"./index-f5cba0e4.js";import{_ as k}from"./tm-image.vue_vue_type_script_setup_true_lang.e60a99a6.js";import{_}from"./tm-sheet.38d3d718.js";var B=(t=>(t.img="img",t.video="video",t))(B||{});const I=t({__name:"tm-carousel",props:{followTheme:{type:Boolean,default:!0},color:{type:String,default:"primary"},indicatorColor:{type:String,default:"white"},width:{type:Number,default:750},height:{type:Number,default:500},round:{type:Number,default:0},margin:{type:Array,default:()=>[0,0]},list:{type:Array,default:()=>[]},rangKey:{type:String,default:"url"},defaultValue:{type:Number,default:0},dotPosition:{type:String,default:"bottom"},align:{type:String,default:"center"},model:{type:String,default:"number"},interval:{type:Number,default:5e3},duration:{type:Number,default:500},circular:{type:Boolean,default:!0},vertical:{type:Boolean,default:!1},acceleration:{type:Boolean,default:!1},disableProgrammaticAnimation:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!0},displayMultipleItems:{type:Number,default:1},skipHiddenItemLayout:{type:Boolean,default:!1},disableTouch:{type:Boolean,default:!1},touchable:{type:Boolean,default:!1},indicatorDots:{type:Boolean,default:!0},showLoad:{type:Boolean,default:!0}},emits:["change","click"],setup(t,{emit:I}){var L;const C=t;null==(L=e())||L.proxy;const A=l((()=>{let t=[];return C.list.forEach((e=>{"string"==typeof e?t.push({url:e,type:B.img,text:""}):"object"==typeof e&&t.push({url:e[C.rangKey],type:(null==e?void 0:e.type)??B.img,text:(null==e?void 0:e.text)??"",img:(null==e?void 0:e.img)??"",...e})})),t})),N=o(C.defaultValue||0),T=o(C.defaultValue||0),E=l((()=>C.model)),P=l((()=>C.dotPosition)),S=l((()=>C.align)),j=l((()=>C.autoplay));function D(t){var e,l;j.value||(N.value=null==(e=null==t?void 0:t.detail)?void 0:e.current),T.value=null==(l=null==t?void 0:t.detail)?void 0:l.current,x((()=>{I("change",T.value)}))}function z(t){T.value=t,j.value||(N.value=t)}return(t,e)=>{const l=y,o=w,x=b,L=v,H=$;return r(),i(x,{class:"flex flex-col flex-col-center-center"},{default:a((()=>[h(x,{class:p(["relative overflow",[`round-${C.round} mx-${C.margin[0]} my-${C.margin[1]}`]]),style:d([{width:`${C.width}rpx`,height:`${C.height}rpx`}])},{default:a((()=>[h(H,{"indicator-dots":!1,interval:C.interval,duration:C.duration,circular:C.circular,vertical:C.vertical,acceleration:C.acceleration,disableProgrammaticAnimation:C.disableProgrammaticAnimation,autoplay:u(j),displayMultipleItems:C.displayMultipleItems,skipHiddenItemLayout:C.skipHiddenItemLayout,disableTouch:C.disableTouch,touchable:C.touchable,onChange:D,class:p(`round-${C.round} overflow`),current:N.value,style:d([{width:`${C.width}rpx`,height:`${C.height}rpx`}])},{default:a((()=>[(r(!0),n(s,null,f(u(A),((t,e)=>(r(),i(L,{class:p(`round-${C.round} overflow `),onClick:t=>I("click",e),key:e,style:d([{width:`${C.width}rpx`,height:`${C.height}rpx`}])},{default:a((()=>[t.type==u(B).img?(r(),i(k,{key:0,round:C.round,userInteractionEnabled:!1,showLoad:C.showLoad,src:t.url,width:C.width,height:C.height},null,8,["round","showLoad","src","width","height"])):c("",!0),t.type==u(B).video&&t.img&&T.value!=e?(r(),i(k,{key:1,round:C.round,userInteractionEnabled:!1,showLoad:C.showLoad,src:t.img,width:C.width,height:C.height},null,8,["round","showLoad","src","width","height"])):c("",!0),t.type==u(B).video&&T.value===e?(r(),i(l,{key:2,userInteractionEnabled:!1,id:"video",src:t.url,style:d([{width:`${C.width}rpx`,height:`${C.height}rpx`}]),autoplay:T.value===e,class:p(`round-${C.round}`)},null,8,["src","style","autoplay","class"])):c("",!0),(null==t?void 0:t.text)?(r(),i(x,{key:3,class:"absolute l-0 b-0 px-24",style:d([{width:`${C.width}rpx`,height:"64rpx",background:"rgba(0,0,0,0.4)","box-sizing":" border-box"}])},{default:a((()=>[h(o,{class:"text-size-m text-white text-overflow-1",style:{"line-height":"64rpx"}},{default:a((()=>[g(m(t.text),1)])),_:2},1024)])),_:2},1032,["style"])):c("",!0)])),_:2},1032,["class","onClick","style"])))),128))])),_:1},8,["interval","duration","circular","vertical","acceleration","disableProgrammaticAnimation","autoplay","displayMultipleItems","skipHiddenItemLayout","disableTouch","touchable","class","current","style"]),"dot"==u(E)&&C.indicatorDots?(r(),i(x,{key:0,class:p(["absolute",["bottom"==u(P)||"top"==u(P)?"flex flex-row ":"","left"==u(P)||"right"==u(P)?"flex flex-col ":"","center"==u(S)?"flex-center":"","left"==u(S)?"flex-row-center-start ":"","right"==u(S)?"flex-row-center-end ":"","left"==u(P)&&"left"==u(S)?"ml-12 mt-24":"","left"==u(P)&&"right"==u(S)?"ml-12 pb-24":"","right"==u(P)&&"left"==u(S)?"pr-12 mt-24":"","right"==u(P)&&"right"==u(S)?"pr-12 pb-24":"","bottom"==u(P)&&"left"==u(S)?"ml-12 mb-0":"","bottom"==u(P)&&"right"==u(S)?"pr-12 mb-0":"","top"==u(P)&&"left"==u(S)?"ml-12 ":"","top"==u(P)&&"right"==u(S)?"pr-12 ":""]]),style:d(["bottom"==u(P)?{left:"0px",bottom:"0px",width:`${C.width}rpx`,height:"60rpx"}:"","top"==u(P)?{left:"0px",top:"0px",width:`${C.width}rpx`,height:"60rpx"}:"","left"==u(P)?{left:"0px",top:"0px",width:"60rpx",height:`${C.height}rpx`}:"","right"==u(P)?{right:"0px",top:"0px",width:"60rpx",height:`${C.height}rpx`}:""])},{default:a((()=>[(r(!0),n(s,null,f(u(A),((t,e)=>(r(),i(_,{margin:[10,10],"follow-theme":T.value==e&&C.followTheme,padding:[0,0],round:10,onClick:t=>z(e),color:T.value==e?C.color:"white",key:e,width:18,height:18},null,8,["follow-theme","onClick","color"])))),128))])),_:1},8,["class","style"])):c("",!0),"rect"==u(E)&&C.indicatorDots?(r(),i(x,{key:1,class:p(["absolute",["bottom"==u(P)||"top"==u(P)?"flex flex-row ":"","left"==u(P)||"right"==u(P)?"flex flex-col ":"","center"==u(S)?"flex-center":"","left"==u(S)?"flex-row-center-start ":"","right"==u(S)?"flex-row-center-end ":"","left"==u(P)&&"left"==u(S)?"ml-12 mt-24":"","left"==u(P)&&"right"==u(S)?"ml-12 pb-24":"","right"==u(P)&&"left"==u(S)?"pr-12 mt-24":"","right"==u(P)&&"right"==u(S)?"pr-12 pb-24":"","bottom"==u(P)&&"left"==u(S)?"ml-12 mb-0":"","bottom"==u(P)&&"right"==u(S)?"pr-12 mb-0":"","top"==u(P)&&"left"==u(S)?"ml-12 ":"","top"==u(P)&&"right"==u(S)?"pr-12 ":""]]),style:d(["bottom"==u(P)?{left:"0px",bottom:"0px",width:`${C.width}rpx`,height:"60rpx"}:"","top"==u(P)?{left:"0px",top:"0px",width:`${C.width}rpx`,height:"60rpx"}:"","left"==u(P)?{left:"0px",top:"0px",width:"60rpx",height:`${C.height}rpx`}:"","right"==u(P)?{right:"0px",top:"0px",width:"60rpx",height:`${C.height}rpx`}:""])},{default:a((()=>[(r(!0),n(s,null,f(u(A),((t,e)=>(r(),i(_,{round:0==e||e==u(A).length-1?10:0,margin:"left"==u(P)||"right"==u(P)?[10,0]:[0,10],padding:[0,0],onClick:t=>z(e),"follow-theme":T.value==e&&C.followTheme,color:T.value==e?C.color:C.indicatorColor,key:e,width:"left"==u(P)||"right"==u(P)?6:36,height:"left"==u(P)||"right"==u(P)?36:6},null,8,["round","margin","onClick","follow-theme","color","width","height"])))),128))])),_:1},8,["class","style"])):c("",!0),"number"==u(E)&&C.indicatorDots?(r(),i(x,{key:2,class:p(["absolute",["bottom"==u(P)||"top"==u(P)?"flex flex-row ":"","left"==u(P)||"right"==u(P)?"flex flex-col ":"","center"==u(S)?"flex-center":"","left"==u(S)?"flex-row-center-start ":"","right"==u(S)?" flex-row-center-end ":"","left"==u(P)&&"left"==u(S)?"ml-12 mt-24":"","left"==u(P)&&"right"==u(S)?"ml-12 pb-24":"","right"==u(P)&&"left"==u(S)?"pr-12 mt-24":"","right"==u(P)&&"right"==u(S)?"pr-12 pb-24":"","bottom"==u(P)&&"left"==u(S)?"ml-12 mb-0":"","bottom"==u(P)&&"right"==u(S)?"pr-12 mb-0 ":"","top"==u(P)&&"left"==u(S)?"ml-12 ":"","top"==u(P)&&"right"==u(S)?"pr-12 ":""]]),style:d(["bottom"==u(P)?{left:"0px",bottom:"0px",width:`${C.width}rpx`,height:"60rpx"}:"","top"==u(P)?{left:"0px",top:"0px",width:`${C.width}rpx`,height:"60rpx"}:"","left"==u(P)?{left:"0px",top:"0px",width:"60rpx",height:`${C.height}rpx`}:"","right"==u(P)?{right:"0px",top:"0px",width:"60rpx",height:`${C.height}rpx`}:""])},{default:a((()=>[h(x,{class:p(["round-10",["left"==u(P)||"right"==u(P)?"px-5 py-24 ":"","bottom"==u(P)||"top"==u(P)?"px-24 py-5 mx-32":""]]),style:{"background-color":"rgba(0, 0, 0, 0.4)","font-size":"0px"}},{default:a((()=>[h(o,{style:{"font-size":"22rpx",color:"white"}},{default:a((()=>[g(m(T.value+1)+"/"+m(u(A).length),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["class","style"])):c("",!0)])),_:1},8,["class","style"])])),_:1})}}});export{I as _};
